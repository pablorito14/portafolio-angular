(self.webpackChunkportafolio=self.webpackChunkportafolio||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},873:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(r(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(uA){t=uA instanceof l?f(uA.errors):[uA]}}if(u(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(c(n))try{n.unsubscribe()}catch(uA){t=t||[],uA instanceof l?t=t.concat(f(uA.errors)):t.push(uA)}}}if(t)throw new l(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}h.EMPTY=function(t){return t.closed=!0,t}(new h);const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let E=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new S(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends E{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}function C(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new x(t,e))}}class x{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new k(t,this.project,this.thisArg))}}class k extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const A=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function O(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return A(t);if(O(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[R])return e=t,t=>{const n=e[R]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function P(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(O(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return P(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[R](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(D(t))}class F extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class M extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(e.closed)return;if(t instanceof v)return t.subscribe(e);let n;try{n=D(t)(e)}catch(r){e.error(r)}return n}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new V(t,n)))}class V{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new q(t,this.project,this.concurrent))}}class q extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new F(this),n=this.destination;n.add(e);const r=j(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function B(t=Number.POSITIVE_INFINITY){return U(y,t)}function H(t,e){return e?P(t,e):new v(A(t))}function z(){return function(t){return t.lift(new G(t))}}class G{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return z()(this)}}const W=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new E}function X(t){for(let e in t)if(t[e]===X)return e;throw Error("Could not find renamed property on target object.")}function Z(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Z).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function J(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const tt=X({__forward_ref__:X});function et(t){return t.__forward_ref__=et,t.toString=function(){return Z(this())},t}function nt(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(tt)&&t.__forward_ref__===et}(t)?t():t}class rt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function it(t){return"string"==typeof t?t:null==t?"":String(t)}function ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():it(t)}function st(t,e){const n=e?` in ${e}`:"";throw new rt("201",`No provider for ${ot(t)} found${n}`)}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{providers:t.providers||[],imports:t.imports||[]}}function ct(t){return lt(t,ft)||lt(t,pt)}function lt(t,e){return t.hasOwnProperty(e)?t[e]:null}function ht(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(gt))?t[dt]:null}const ft=X({"\u0275prov":X}),dt=X({"\u0275inj":X}),pt=X({ngInjectableDef:X}),gt=X({ngInjectorDef:X});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let yt;function vt(t){const e=yt;return yt=t,e}function bt(t,e,n){const r=ct(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&mt.Optional?null:void 0!==e?e:void st(Z(t),"Injector")}function wt(t){return{toString:t}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),St=(()=>((St=St||{})[St.Emulated=0]="Emulated",St[St.None=2]="None",St[St.ShadowDom=3]="ShadowDom",St))();const Et="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,xt=Et||Ct||Tt||It,kt={},At=[],Rt=X({"\u0275cmp":X}),Nt=X({"\u0275dir":X}),Ot=X({"\u0275pipe":X}),Dt=X({"\u0275mod":X}),Pt=X({"\u0275loc":X}),Lt=X({"\u0275fac":X}),Ft=X({__NG_ELEMENT_ID__:X});let Mt=0;function jt(t){return wt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Mt++,n.inputs=Ht(t.inputs,e),n.outputs=Ht(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ut):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Vt):null,n})}function Ut(t){return Gt(t)||function(t){return t[Nt]||null}(t)}function Vt(t){return function(t){return t[Ot]||null}(t)}const qt={};function Bt(t){return wt(()=>{const e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(qt[t.id]=t.type),e})}function Ht(t,e){if(null==t)return kt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const zt=jt;function Gt(t){return t[Rt]||null}function $t(t,e){const n=t[Dt]||null;if(!n&&!0===e)throw new Error(`Type ${Z(t)} does not have '\u0275mod' property.`);return n}const Kt=20,Wt=10;function Qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yt(t){return Array.isArray(t)&&!0===t[1]}function Xt(t){return 0!=(8&t.flags)}function Zt(t){return 2==(2&t.flags)}function Jt(t){return 1==(1&t.flags)}function te(t){return null!==t.template}function ee(t,e){return t.hasOwnProperty(Lt)?t[Lt]:null}class ne{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function re(){return ie}function ie(t){return t.type.prototype.ngOnChanges&&(t.setInput=se),oe}function oe(){const t=ae(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===kt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function se(t,e,n,r){const i=ae(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:kt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ne(u&&u.currentValue,e,s===kt),t[r]=e}function ae(t){return t.__ngSimpleChanges__||null}re.ngInherit=!0;const ue="http://www.w3.org/2000/svg";let ce;function le(t){return!!t.listen}const he={createRenderer:(t,e)=>void 0!==ce?ce:"undefined"!=typeof document?document:void 0};function fe(t){for(;Array.isArray(t);)t=t[0];return t}function de(t,e){return fe(e[t.index])}function pe(t,e){return t.data[e]}function ge(t,e){const n=e[t];return Qt(n)?n:n[0]}function me(t){return 4==(4&t[2])}function ye(t){return 128==(128&t[2])}function ve(t,e){return null==e?null:t[e]}function be(t){t[18]=0}function we(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const _e={lFrame:Ve(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Se(){return _e.bindingsEnabled}function Ee(){return _e.lFrame.lView}function Te(){return _e.lFrame.tView}function Ie(){let t=Ce();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ce(){return _e.lFrame.currentTNode}function xe(t,e){const n=_e.lFrame;n.currentTNode=t,n.isParent=e}function ke(){return _e.lFrame.isParent}function Ae(){return _e.isInCheckNoChangesMode}function Re(t){_e.isInCheckNoChangesMode=t}function Ne(){return _e.lFrame.bindingIndex++}function Oe(t,e){const n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,De(e)}function De(t){_e.lFrame.currentDirectiveIndex=t}function Pe(){return _e.lFrame.currentQueryIndex}function Le(t){_e.lFrame.currentQueryIndex=t}function Fe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Me(t,e,n){if(n&mt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&mt.Host||(r=Fe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=_e.lFrame=Ue();return r.currentTNode=e,r.lView=t,!0}function je(t){const e=Ue(),n=t[1];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ue(){const t=_e.lFrame,e=null===t?null:t.child;return null===e?Ve(t):e}function Ve(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function qe(){const t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Be=qe;function He(){const t=qe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ze(){return _e.lFrame.selectedIndex}function Ge(t){_e.lFrame.selectedIndex=t}function $e(){const t=_e.lFrame;return pe(t.tView,t.selectedIndex)}function Ke(){_e.lFrame.currentNamespace=ue}function We(){_e.lFrame.currentNamespace=null}function Qe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ye(t,e,n){Je(t,e,3,n)}function Xe(t,e,n,r){(3&t[2])===n&&Je(t,e,n,r)}function Ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Je(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(tn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function tn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const en=-1;class nn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function rn(t,e,n){const r=le(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];sn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function on(t){return 3===t||4===t||6===t}function sn(t){return 64===t.charCodeAt(0)}function an(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||un(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function un(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function cn(t){return t!==en}function ln(t){return 32767&t}function hn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let fn=!0;function dn(t){const e=fn;return fn=t,e}let pn=0;function gn(t,e){const n=yn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,mn(r.data,t),mn(e,null),mn(r.blueprint,null));const i=vn(t,e),o=t.injectorIndex;if(cn(i)){const t=ln(i),n=hn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function yn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function vn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return en;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return en}function bn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ft)&&(r=n[Ft]),null==r&&(r=n[Ft]=pn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function wn(t,e,n){if(n&mt.Optional)return t;st(e,"NodeInjector")}function _n(t,e,n,r){if(n&mt.Optional&&void 0===r&&(r=null),0==(n&(mt.Self|mt.Host))){const i=t[9],o=vt(void 0);try{return i?i.get(e,r,n&mt.Optional):bt(e,r,n&mt.Optional)}finally{vt(o)}}return wn(r,e,n)}function Sn(t,e,n,r=mt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ft)?t[Ft]:void 0;return"number"==typeof e?e>=0?255&e:Tn:e}(n);if("function"==typeof o){if(!Me(e,t,r))return r&mt.Host?wn(i,n,r):_n(e,n,r,i);try{const t=o(r);if(null!=t||r&mt.Optional)return t;st(n)}finally{Be()}}else if("number"==typeof o){let i=null,s=yn(t,e),a=en,u=r&mt.Host?e[16][6]:null;for((-1===s||r&mt.SkipSelf)&&(a=-1===s?vn(t,e):e[s+8],a!==en&&An(r,!1)?(i=e[1],s=ln(a),e=hn(a,e)):s=-1);-1!==s;){const t=e[1];if(kn(o,s,t.data)){const t=In(s,e,n,i,r,u);if(t!==En)return t}a=e[s+8],a!==en&&An(r,e[1].data[s+8]===u)&&kn(o,s,e)?(i=t,s=ln(a),e=hn(a,e)):s=-1}}}return _n(e,n,r,i)}const En={};function Tn(){return new Rn(Ie(),Ee())}function In(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Cn(a,s,n,null==r?Zt(a)&&fn:r!=s&&0!=(3&a.type),i&mt.Host&&o===a);return null!==u?xn(e,s,u,a):En}function Cn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&te(t)&&t.type===n)return u}return null}function xn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof nn){const s=i;s.resolving&&function(t,e){throw new rt("200",`Circular dependency in DI detected for ${t}`)}(ot(o[n]));const a=dn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?vt(s.injectImpl):null;Me(t,r,mt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ie(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&vt(u),dn(a),s.resolving=!1,Be()}}return i}function kn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function An(t,e){return!(t&mt.Self||t&mt.Host&&e)}class Rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Sn(this._tNode,this._lView,t,void 0,e)}}function Nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(on(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ie(),t)}const On="__parameters__";function Dn(t,e,n){return wt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(On)?t[On]:Object.defineProperty(t,On,{value:[]})[On];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Pn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ln=new Pn("AnalyzeForEntryComponents"),Fn=Function;function Mn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Mn(r,e)):e!==t&&e.push(r)}return e}function jn(t,e){t.forEach(t=>Array.isArray(t)?jn(t,e):e(t))}function Un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const qn={},Bn=/\n/gm,Hn="__source",zn=X({provide:String,useValue:X});let Gn;function $n(t){const e=Gn;return Gn=t,e}function Kn(t,e=mt.Default){if(void 0===Gn)throw new Error("inject() must be called from an injection context");return null===Gn?bt(t,void 0,e):Gn.get(t,e&mt.Optional?null:void 0,e)}function Wn(t,e=mt.Default){return(yt||Kn)(nt(t),e)}function Qn(t){const e=[];for(let n=0;n<t.length;n++){const r=nt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=mt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(Wn(t,n))}else e.push(Wn(r))}return e}function Yn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Xn=Yn(Dn("Inject",t=>({token:t})),-1),Zn=Yn(Dn("Optional"),8),Jn=Yn(Dn("SkipSelf"),4);class tr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var rr=(()=>((rr=rr||{})[rr.NONE=0]="NONE",rr[rr.HTML=1]="HTML",rr[rr.STYLE=2]="STYLE",rr[rr.SCRIPT=3]="SCRIPT",rr[rr.URL=4]="URL",rr[rr.RESOURCE_URL=5]="RESOURCE_URL",rr))();function ir(t){const e=function(){const t=Ee();return t&&t[12]}();return e?e.sanitize(rr.URL,t)||"":function(t,e){const n=function(t){return t instanceof tr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?(r=t)instanceof tr?r.changingThisBreaksApplicationSecurity:r:(n=it(t),(n=String(n)).match(er)||n.match(nr)?n:"unsafe:"+n);var n,r}function or(t,e){t.__ngContext__=e}function sr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ar(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}const lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function hr(t){return t instanceof Function?t():t}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function dr(t,e){return(void 0)(t,e)}function pr(t){const e=t[3];return Yt(e)?e[3]:e}function gr(t){return yr(t[13])}function mr(t){return yr(t[4])}function yr(t){for(;null!==t&&!Yt(t);)t=t[4];return t}function vr(t,e,n,r,i){if(null!=r){let o,s=!1;Yt(r)?o=r:Qt(r)&&(s=!0,r=r[0]);const a=fe(r);0===t&&null!==n?null==i?Ir(e,n,a):Tr(e,n,a,i||null,!0):1===t&&null!==n?Tr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=xr(t,e);r&&function(t,e,n,r){le(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==fe(n)&&vr(e,t,r,o,i);for(let s=Wt;s<n.length;s++){const i=n[s];Dr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function br(t,e,n){return le(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function wr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,we(i,-1)),n.splice(r,1)}function _r(t,e){if(t.length<=Wt)return;const n=Wt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&wr(o,r),e>0&&(t[n-1][4]=r[4]);const s=Vn(t,Wt+e);Dr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Sr(t,e){if(!(256&e[2])){const n=e[11];le(n)&&n.destroyNode&&Dr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Er(t[1],t);for(;e;){let n=null;if(Qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Qt(e)&&Er(e[1],e),e=e[3];null===e&&(e=t),Qt(e)&&Er(e[1],e),n=e&&e[4]}e=n}}(e)}}function Er(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof nn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):fe(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&le(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Yt(e[3])){n!==e[3]&&wr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Tr(t,e,n,r,i){le(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ir(t,e,n){le(t)?t.appendChild(e,n):e.appendChild(n)}function Cr(t,e,n,r,i){null!==r?Tr(t,e,n,r,i):Ir(t,e,n)}function xr(t,e){return le(t)?t.parentNode(e):e.parentNode}function kr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===St.None||e===St.Emulated)return null}return de(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?de(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Cr(o,i,n[a],s,!1);else Cr(o,i,n,s,!1)}function Ar(t,e){if(null!==e){const n=e.type;if(3&n)return de(e,t);if(4&n)return Nr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ar(t,n);{const n=t[e.index];return Yt(n)?Nr(-1,n):fe(n)}}if(32&n)return dr(e,t)()||fe(t[e.index]);{const n=Rr(t,e);return null!==n?Array.isArray(n)?n[0]:Ar(pr(t[16]),n):Ar(t,e.next)}}return null}function Rr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Nr(t,e){const n=Wt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ar(t,r)}return e[7]}function Or(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&or(fe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Or(t,e,n.child,r,i,o,!1),vr(e,t,i,a,o);else if(32&u){const s=dr(n,r);let u;for(;u=s();)vr(e,t,i,u,o);vr(e,t,i,a,o)}else 16&u?Pr(t,e,r,n,i,o):vr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Dr(t,e,n,r,i,o){Or(n,r,t.firstChild,e,i,o,!1)}function Pr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)vr(e,t,i,a[u],o);else Or(t,e,a,s[3],i,o,!0)}function Lr(t,e,n){le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Fr(t,e,n){le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Mr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const jr="ng-template";function Ur(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Mr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Vr(t){return 4===t.type&&t.value!==jr}function qr(t,e,n){return e===(4!==t.type||n?t.value:jr)}function Br(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(on(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!qr(t,u,n)||""===u&&1===e.length){if(Hr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Ur(t.attrs,c,n)){if(Hr(r))return!1;s=!0}continue}const l=zr(8&r?"class":u,i,Vr(t),n);if(-1===l){if(Hr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Mr(e,c,0)||2&r&&c!==t){if(Hr(r))return!1;s=!0}}}}else{if(!s&&!Hr(r)&&!Hr(u))return!1;if(s&&Hr(u))continue;s=!1,r=u|1&r}}return Hr(r)||s}function Hr(t){return 0==(1&t)}function zr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Gr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Br(t,e[r],n))return!0;return!1}function $r(t,e){return t?":not("+e.trim()+")":e}function Kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Hr(s)||(e+=$r(o,i),i=""),r=s,o=o||!Hr(r);n++}return""!==i&&(e+=$r(o,i)),e}const Wr={};function Qr(t){Yr(Te(),Ee(),ze()+t,Ae())}function Yr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Xe(e,r,0,n)}Ge(n)}function Xr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Le(i),n.contentQueries(2,e[o],o)}}}function Zr(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,be(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Jr(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Ce(),s=ke(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),_e.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return xe(o,!0),o}function ti(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ei(t,e,n){je(e);try{const r=t.viewQuery;null!==r&&Ri(1,r,n);const i=t.template;null!==i&&ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xr(t,e),t.staticViewQueries&&Ri(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ii(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,He()}}function ni(t,e,n,r){const i=e[2];if(256==(256&i))return;je(e);const o=Ae();try{be(e),_e.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ii(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Xe(e,n,0,null),Ze(e,0)}if(function(t){for(let e=gr(t);null!==e;e=mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&we(r,1),n[2]|=1024}}}(e),function(t){for(let e=gr(t);null!==e;e=mr(e))for(let t=Wt;t<e.length;t++){const n=e[t],r=n[1];ye(n)&&ni(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ye(e,n)}else{const n=t.contentHooks;null!==n&&Xe(e,n,1),Ze(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Ge(~r);else{const i=r,o=n[++t],s=n[++t];Oe(o,i),s(2,e[i])}}}finally{Ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Ei(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ri(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ye(e,n)}else{const n=t.viewHooks;null!==n&&Xe(e,n,2),Ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,we(e[3],-1))}finally{He()}}function ri(t,e,n,r){const i=e[10],o=!Ae(),s=me(e);try{o&&!s&&i.begin&&i.begin(),s&&ei(t,e,r),ni(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ii(t,e,n,r,i){const o=ze(),s=2&r;try{Ge(-1),s&&e.length>Kt&&Yr(t,e,Kt,Ae()),n(r,i)}finally{Ge(o)}}function oi(t,e,n){Se()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||gn(n,e),or(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=te(r);o&&bi(e,n,r);const u=xn(e,t,a,n);or(u,e),null!==s&&wi(0,a-i,u,r,0,s),o&&(ge(n.index,e)[8]=u)}}(t,e,n,de(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_e.lFrame.currentDirectiveIndex;try{Ge(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];De(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||pi(r,i)}}finally{Ge(-1),De(s)}}(t,e,n))}function si(t,e,n=de){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ai(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ui(t,e,n,r,i,o,s,a,u,c){const l=Kt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function ci(t,e,n,r){const i=Oi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Di(t).push(r,i.length-1))}function li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hi(t,e,n,r,i,o,s,a){const u=de(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Li(t,n,c,r,i),Zt(e)&&function(t,e){const n=ge(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,le(o)?o.setProperty(u,r,i):sn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function fi(t,e,n,r){let i=!1;if(Se()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Gr(n,s.selectors,!1)&&(i||(i=[]),bn(gn(n,e),t,s.type),te(s)?(gi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,yi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ti(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=an(n.mergedAttrs,c.hostAttrs),vi(t,n,e,u,c),mi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Vr(e)?null:_i(n,i);o.push(c),s=li(n,u,s),a=li(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new rt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=an(n.mergedAttrs,n.attrs),i}function di(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;te(e)&&(n[""]=t)}}function yi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ee(i.type)),s=new nn(o,te(i),null);t.blueprint[r]=s,n[r]=s,di(t,e,0,r,ti(t,n,i.hostVars,Wr),i)}function bi(t,e,n){const r=de(e,t),i=ai(n),o=t[10],s=Ci(t,Zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function wi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function _i(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Si(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ei(t,e){const n=ge(e,t);if(ye(n)){const t=n[1];80&n[2]?ni(t,n,t.template,n[8]):n[5]>0&&Ti(n)}}function Ti(t){for(let n=gr(t);null!==n;n=mr(n))for(let t=Wt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ni(t,e,t.template,e[8])}else e[5]>0&&Ti(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ge(e[n],t);ye(r)&&r[5]>0&&Ti(r)}}function Ii(t,e){const n=ge(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ei(r,n,n[8])}function Ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ki(t,e,n){const r=e[10];r.begin&&r.begin();try{ni(t,e,t.template,n)}catch(i){throw Pi(e,i),i}finally{r.end&&r.end()}}function Ai(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=sr(n),i=r[1];ri(i,r,i.template,n)}}(t[8])}function Ri(t,e,n){Le(0),e(t,n)}const Ni=(()=>Promise.resolve(null))();function Oi(t){return t[7]||(t[7]=[])}function Di(t){return t.cleanup||(t.cleanup=[])}function Pi(t,e){const n=t[9],r=n?n.get(cr,null):null;r&&r.handleError(e)}function Li(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Fi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=J(i,t):2==o&&(r=J(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Mi=new Pn("INJECTOR",-1);class ji{get(t,e=qn){if(e===qn){const e=new Error(`NullInjectorError: No provider for ${Z(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ui=new Pn("Set Injector scope."),Vi={},qi={};let Bi;function Hi(){return void 0===Bi&&(Bi=new ji),Bi}function zi(t,e=null,n=null,r){return new Gi(t,n,e||Hi(),r)}class Gi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&jn(e,n=>this.processProvider(n,t,e)),jn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Mi,Ki(void 0,this));const o=this.records.get(Ui);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:Z(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=qn,n=mt.Default){this.assertNotDestroyed();const r=$n(this),i=vt(void 0);try{if(!(n&mt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof Pn)&&ct(t);e=n&&this.injectableDefInScope(n)?Ki($i(t),Vi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&mt.Self?Hi():this.parent).get(t,e=n&mt.Optional&&e===qn?null:e)}catch(uA){if("NullInjectorError"===uA.name){if((uA.ngTempTokenPath=uA.ngTempTokenPath||[]).unshift(Z(t)),r)throw uA;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Hn]&&i.unshift(e[Hn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=Z(e);if(Array.isArray(e))i=e.map(Z).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):Z(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Bn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(uA,t,"R3InjectorError",this.source)}throw uA}finally{vt(i),$n(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(Z(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=nt(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{jn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];jn(r,t=>this.processProvider(t,n,r||At))}}this.injectorDefTypes.add(o);const a=ee(o)||(()=>new o);this.records.set(o,Ki(a,Vi));const u=r.providers;if(null!=u&&!s){const e=t;jn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Qi(t=nt(t))?t:nt(t&&t.provide);const i=function(t,e,n){return Wi(t)?Ki(void 0,t.useValue):Ki(function(t,e,n){let r;if(Qi(t)){const e=nt(t);return ee(e)||$i(e)}if(Wi(t))r=()=>nt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Qn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Wn(nt(t.useExisting));else{const e=nt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ee(e)||$i(e);r=()=>new e(...Qn(t.deps))}var i;return r}(t),Vi)}(t);if(Qi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ki(void 0,Vi,!0),e.factory=()=>Qn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Vi&&(e.value=qi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=nt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function $i(t){const e=ct(t),n=null!==e?e.factory:ee(t);if(null!==n)return n;if(t instanceof Pn)throw new Error(`Token ${Z(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${Z(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[pt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ki(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wi(t){return null!==t&&"object"==typeof t&&zn in t}function Qi(t){return"function"==typeof t}const Yi=function(t,e,n){return function(t,e=null,n=null,r){const i=zi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class Xi{static create(t,e){return Array.isArray(t)?Yi(t,e,""):Yi(t.providers,t.parent,t.name||"")}}function Zi(t,e){Qe(sr(t)[1],Ie())}Xi.THROW_IF_NOT_FOUND=qn,Xi.NULL=new ji,Xi.\u0275prov=at({token:Xi,providedIn:"any",factory:()=>Wn(Mi)}),Xi.__NG_ELEMENT_ID__=-1;let Ji=null;function to(){if(!Ji){const t=xt.Symbol;if(t&&t.iterator)Ji=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ji=n)}}}return Ji}function eo(t){return!!no(t)&&(Array.isArray(t)||!(t instanceof Map)&&to()in t)}function no(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function io(t,e,n,r){const i=Ee();return ro(i,Ne(),e)&&(Te(),function(t,e,n,r,i,o){const s=de(t,e);!function(t,e,n,r,i,o,s){if(null==o)le(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?it(o):s(o,r||"",i);le(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}($e(),i,t,e,n,r)),io}function oo(t,e,n,r){return ro(t,Ne(),n)?e+it(n)+r:Wr}function so(t,e,n,r,i,o,s,a){const u=Ee(),c=Te(),l=t+Kt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Jr(e,t,4,s||null,ve(c,a));fi(e,n,l,ve(c,u)),Qe(e,l);const h=l.tViews=ui(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];xe(h,!1);const f=u[11].createComment("");kr(c,u,f,h),or(f,u),Ci(u,u[l]=Si(f,u,f,h)),Jt(h)&&oi(c,u,h),null!=s&&si(u,h,a)}function ao(t,e=mt.Default){const n=Ee();return null===n?Wn(t,e):Sn(Ie(),n,nt(t),e)}function uo(t,e,n){const r=Ee();return ro(r,Ne(),e)&&hi(Te(),$e(),r,t,e,r[11],n,!1),uo}function co(t,e,n,r,i){const o=i?"class":"style";Li(t,n,e.inputs[o],o,r)}function lo(t,e,n,r){const i=Ee(),o=Te(),s=Kt+t,a=i[11],u=i[s]=br(a,e,_e.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Jr(e,t,2,i,ve(a,o));return fi(e,n,u,ve(a,s)),null!==u.attrs&&Fi(u,u.attrs,!1),null!==u.mergedAttrs&&Fi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];xe(c,!0);const l=c.mergedAttrs;null!==l&&rn(a,u,l);const h=c.classes;null!==h&&Fr(a,u,h);const f=c.styles;null!==f&&Lr(a,u,f),64!=(64&c.flags)&&kr(o,i,u,c),0===_e.lFrame.elementDepthCount&&or(u,i),_e.lFrame.elementDepthCount++,Jt(c)&&(oi(o,i,c),function(t,e,n){if(Xt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&si(i,c)}function ho(){let t=Ie();ke()?_e.lFrame.isParent=!1:(t=t.parent,xe(t,!1));const e=t;_e.lFrame.elementDepthCount--;const n=Te();n.firstCreatePass&&(Qe(n,t),Xt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&co(n,e,Ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&co(n,e,Ee(),e.stylesWithoutHost,!1)}function fo(t,e,n,r){lo(t,e,n,r),ho()}function po(t){return!!t&&"function"==typeof t.then}const go=function(t){return!!t&&"function"==typeof t.subscribe};function mo(t,e,n,r){const i=Ee(),o=Te(),s=Ie();return function(t,e,n,r,i,o,s,a){const u=Jt(r),c=t.firstCreatePass&&Di(t),l=Oi(e);let h=!0;if(3&r.type||a){const f=de(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(fe(t[r.index])):r.index;if(le(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=vo(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=vo(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=vo(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),mo}function yo(t,e,n,r){try{return!1!==n(r)}catch(i){return Pi(t,i),!1}}function vo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?ge(t.index,e):e;0==(32&e[2])&&xi(s);let a=yo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=yo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function bo(t=1){return function(t){return(_e.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,_e.lFrame.contextLView))[8]}(t)}function wo(t,e,n,r,i){const o=Ee(),s=oo(o,e,n,r);return s!==Wr&&hi(Te(),$e(),o,t,s,o[11],i,!1),wo}function _o(t,e=""){const n=Ee(),r=Te(),i=t+Kt,o=r.firstCreatePass?Jr(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return le(t)?t.createText(e):t.createTextNode(e)}(n[11],e);kr(r,n,s,o),xe(o,!1)}function So(t){return Eo("",t,""),So}function Eo(t,e,n){const r=Ee(),i=oo(r,t,e,n);return i!==Wr&&function(t,e,n){const r=function(t,e){return fe(e[t])}(e,t);!function(t,e,n){le(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ze(),i),Eo}function To(t,e,n){const r=Ee();return ro(r,Ne(),e)&&hi(Te(),$e(),r,t,e,r[11],n,!0),To}const Io=void 0;var Co=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let xo={};function ko(t){return t in xo||(xo[t]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[t]),xo[t]}var Ao=(()=>((Ao=Ao||{})[Ao.LocaleId=0]="LocaleId",Ao[Ao.DayPeriodsFormat=1]="DayPeriodsFormat",Ao[Ao.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ao[Ao.DaysFormat=3]="DaysFormat",Ao[Ao.DaysStandalone=4]="DaysStandalone",Ao[Ao.MonthsFormat=5]="MonthsFormat",Ao[Ao.MonthsStandalone=6]="MonthsStandalone",Ao[Ao.Eras=7]="Eras",Ao[Ao.FirstDayOfWeek=8]="FirstDayOfWeek",Ao[Ao.WeekendRange=9]="WeekendRange",Ao[Ao.DateFormat=10]="DateFormat",Ao[Ao.TimeFormat=11]="TimeFormat",Ao[Ao.DateTimeFormat=12]="DateTimeFormat",Ao[Ao.NumberSymbols=13]="NumberSymbols",Ao[Ao.NumberFormats=14]="NumberFormats",Ao[Ao.CurrencyCode=15]="CurrencyCode",Ao[Ao.CurrencySymbol=16]="CurrencySymbol",Ao[Ao.CurrencyName=17]="CurrencyName",Ao[Ao.Currencies=18]="Currencies",Ao[Ao.Directionality=19]="Directionality",Ao[Ao.PluralCase=20]="PluralCase",Ao[Ao.ExtraData=21]="ExtraData",Ao))();const Ro="en-US";let No=Ro;function Oo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(No=t.toLowerCase().replace(/_/g,"-"))}class Do{}class Po{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${Z(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Lo{}function Fo(...t){}function Mo(t,e){return new Uo(de(t,e))}Lo.NULL=new Po;const jo=function(){return Mo(Ie(),Ee())};let Uo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=jo,t})();function Vo(t){return t instanceof Uo?t.nativeElement:t}class qo{}let Bo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ho(),t})();const Ho=function(){const t=Ee(),e=ge(Ie().index,t);return function(t){return t[11]}(Qt(e)?e:t)};let zo=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Go{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $o=new Go("12.1.3");class Ko{constructor(){}supports(t){return eo(t)}create(t){return new Qo(t)}}const Wo=(t,e)=>e;class Qo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Wo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Jo(n,r,i)?e:n,s=Jo(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!eo(t))throw new Error(`Error trying to diff '${Z(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[to()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Yo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Xo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ts{constructor(){}supports(t){return t instanceof Map||no(t)}create(){return new es}}class es{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||no(t)))throw new Error(`Error trying to diff '${Z(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ns(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ns{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rs(){return new is([new Ko])}let is=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||rs()),deps:[[t,new Jn,new Zn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:rs}),t})();function os(){return new ss([new ts])}let ss=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||os()),deps:[[t,new Jn,new Zn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:os}),t})();function as(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(fe(o)),Yt(o))for(let t=Wt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&as(e[1],e,n,r)}const s=n.type;if(8&s)as(t,e,n.child,r);else if(32&s){const t=dr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Rr(e,n);if(Array.isArray(t))r.push(...t);else{const n=pr(e[16]);as(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class us{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return as(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Yt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(_r(t,n),Vn(e,n))}this._attachedToViewContainer=!1}Sr(this._lView[1],this._lView)}onDestroy(t){ci(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Re(!0);try{ki(t,e,n)}finally{Re(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Dr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class cs extends us{constructor(t){super(t),this._view=t}detectChanges(){Ai(this._view)}checkNoChanges(){!function(t){Re(!0);try{Ai(t)}finally{Re(!1)}}(this._view)}get context(){return null}}const ls=function(t){return function(t,e,n){if(Zt(t)&&!n){const n=ge(t.index,e);return new us(n,n)}return 47&t.type?new us(e[16],e):null}(Ie(),Ee(),16==(16&t))};let hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=ls,t})();const fs=[new ts],ds=new is([new Ko]),ps=new ss(fs),gs=function(){return bs(Ie(),Ee())};let ms=(()=>{class t{}return t.__NG_ELEMENT_ID__=gs,t})();const ys=ms,vs=class extends ys{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Zr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ei(e,n,t),new us(n)}};function bs(t,e){return 4&t.type?new vs(e,t,Mo(t,e)):null}class ws{}class _s{}const Ss=function(){return ks(Ie(),Ee())};let Es=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ss,t})();const Ts=Es,Is=class extends Ts{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=vn(this._hostTNode,this._hostLView);if(cn(t)){const e=hn(t,this._hostLView),n=ln(t);return new Rn(e[1].data[n+8],e)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Cs(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ws,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Is(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Wt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Wt?(e[4]=n[i],Un(n,Wt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Nr(i,o),a=n[11],u=xr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Dr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Un(xs(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Cs(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);n&&(Vn(xs(this._lContainer),e),Sr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);return n&&null!=Vn(xs(this._lContainer),e)?new us(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Cs(t){return t[8]}function xs(t){return t[8]||(t[8]=[])}function ks(t,e){let n;const r=e[t.index];if(Yt(r))n=r;else{let i;if(8&t.type)i=fe(r);else{const n=e[11];i=n.createComment("");const r=de(t,e);Tr(n,xr(n,r),i,function(t,e){return le(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Si(r,e,i,t),Ci(e,n)}return new Is(n,t,e)}const As={};class Rs extends Lo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Gt(t);return new Ds(e,this.ngModule)}}function Ns(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Os=new Pn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lr});class Ds extends Do{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ns(this.componentDef.inputs)}get outputs(){return Ns(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,As,i);return o!==As||r===As?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(qo,he),s=i.get(zo,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(le(t))return t.selectRootElement(e,n===St.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):br(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?ue:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:lr,clean:Ni,playerHandler:null,flags:0},f=ui(0,null,null,1,0,null,null,null,null,null),d=Zr(null,f,h,l,null,null,o,a,s,i);let p,g;je(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Jr(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Fi(a,u,!0),null!==t&&(rn(i,t,u),null!==a.classes&&Fr(i,t,a.classes),null!==a.styles&&Lr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Zr(n,ai(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(bn(gn(a,n),s,e.type),gi(s,a),yi(a,n.length,1)),Ci(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)rn(a,c,["ng-version",$o.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Hr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&rn(a,c,t),e&&e.length>0&&Fr(a,c,e.join(" "))}if(g=pe(f,Kt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),vi(t,r,e,ti(t,e,1,null),n));const i=xn(e,t,r.directiveStart,r);or(i,e);const o=de(r,e);return o&&or(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ie();e.contentQueries(1,s,t.directiveStart)}const a=Ie();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ge(a.index),di(n[1],a,0,a.directiveStart,a.directiveEnd,e),pi(e,s)),s}(t,this.componentDef,d,h,[Zi]),ei(f,d,null)}finally{He()}return new Ps(this.componentType,p,Mo(g,d),d,g)}}class Ps extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new cs(r),this.componentType=t}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ls=new Map;class Fs extends ws{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rs(this);const n=$t(t),r=t[Pt]||null;r&&Oo(r),this._bootstrapComponents=hr(n.bootstrap),this._r3Injector=zi(t,e,[{provide:ws,useValue:this},{provide:Lo,useValue:this.componentFactoryResolver}],Z(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Xi.THROW_IF_NOT_FOUND,n=mt.Default){return t===Xi||t===ws||t===Mi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ms extends _s{constructor(t){super(),this.moduleType=t,null!==$t(t)&&function(t){const e=new Set;!function t(n){const r=$t(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Z(e)} vs ${Z(e.name)}`)}(i,Ls.get(i),n),Ls.set(i,n));const o=hr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Fs(this.moduleType,t)}}function js(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return ro(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Wr?void 0:n}(t,s+1)}(Ee(),function(){const t=_e.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function Us(t){return e=>{setTimeout(t,void 0,e)}}const Vs=class extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Us(a),s&&(s=Us(s)),u&&(u=Us(u)));const c=super.subscribe({next:s,error:a,complete:u});return t instanceof h&&t.add(c),c}};function qs(){return this._results[to()]()}class Bs{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=to(),n=Bs.prototype;n[e]||(n[e]=qs)}get changes(){return this._changes||(this._changes=new Vs)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Mn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Hs{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hs(this.queryList)}setDirty(){this.queryList.setDirty()}}class zs{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new zs(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ea(t,e).matches&&this.queries[e].setDirty()}}class Gs{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class $s{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new $s(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ks{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ks(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ws(e,i)),this.matchTNodeWithReadOption(t,e,Cn(e,t,i,!1,!1))}else n===ms?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Cn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Uo||r===Es||r===ms&&4&e.type)this.addMatch(e.index,-2);else{const n=Cn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ws(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Qs(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Mo(t,e):4&t.type?bs(t,e):null}(e,t):-2===n?function(t,e,n){return n===Uo?Mo(e,t):n===ms?bs(e,t):n===Es?ks(e,t):void 0}(t,e,r):xn(t,t[1],n,e)}function Ys(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Qs(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Xs(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Ys(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Wt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Xs(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Xs(n[1],n,i,r)}}}}}return r}function Zs(t){const e=Ee(),n=Te(),r=Pe();Le(r+1);const i=ea(n,r);if(t.dirty&&me(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Xs(n,e,r,[]):Ys(n,e,i,r);t.reset(o,Vo),t.notifyOnChanges()}return!0}return!1}function Js(t,e,n,r){const i=Te();if(i.firstCreatePass){const o=Ie();(function(t,e,n){null===t.queries&&(t.queries=new $s),t.queries.track(new Ks(e,n))})(i,new Gs(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Bs(4==(4&n));ci(t,e,r,r.destroy),null===e[19]&&(e[19]=new zs),e[19].queries.push(new Hs(r))}(i,Ee(),n)}function ta(){return t=Ee(),e=Pe(),t[19].queries[e].queryList;var t,e}function ea(t,e){return t.queries.getByIndex(e)}const na=new Pn("Application Initializer");let ra=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Fo,this.reject=Fo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(po(e))t.push(e);else if(go(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Wn(na,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const ia=new Pn("AppId"),oa={provide:ia,useFactory:function(){return`${sa()}${sa()}${sa()}`},deps:[]};function sa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aa=new Pn("Platform Initializer"),ua=new Pn("Platform ID"),ca=new Pn("appBootstrapListener");let la=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const ha=new Pn("LocaleId"),fa=new Pn("DefaultCurrencyCode");class da{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pa=function(t){return new Ms(t)},ga=pa,ma=function(t){return Promise.resolve(pa(t))},ya=function(t){const e=pa(t),n=hr($t(t).declarations).reduce((t,e)=>{const n=Gt(e);return n&&t.push(new Ds(n)),t},[]);return new da(e,n)},va=ya,ba=function(t){return Promise.resolve(ya(t))};let wa=(()=>{class t{constructor(){this.compileModuleSync=ga,this.compileModuleAsync=ma,this.compileModuleAndAllComponentsSync=va,this.compileModuleAndAllComponentsAsync=ba}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const _a=(()=>Promise.resolve(0))();function Sa(t){"undefined"==typeof Zone?_a.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ea{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=xt.requestAnimationFrame,e=xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ca(t),t.isCheckStableRunning=!0,Ia(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ca(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return xa(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ka(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return xa(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ka(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ca(t),Ia(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ta,Fo,Fo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ta={};function Ia(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ca(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ka(t){t._nesting--,Ia(t)}class Aa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ra=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ea.assertNotInAngularZone(),Sa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Wn(Ea))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Na=(()=>{class t{constructor(){this._applications=new Map,Pa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Pa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Oa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Da,Pa=new Oa,La=!0,Fa=!1;const Ma=new Pn("AllowMultipleToken");class ja{constructor(t,e){this.name=t,this.token=e}}function Ua(t,e,n=[]){const r=`Platform: ${e}`,i=new Pn(r);return(e=[])=>{let o=Va();if(!o||o.injector.get(Ma,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ui,useValue:"platform"});!function(t){if(Da&&!Da.destroyed&&!Da.injector.get(Ma,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Da=t.get(qa);const e=t.get(aa,null);e&&e.forEach(t=>t())}(Xi.create({providers:t,name:r}))}return function(t){const e=Va();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Va(){return Da&&!Da.destroyed?Da:null}let qa=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Aa:("zone.js"===t?void 0:t)||new Ea({enableLongStackTrace:(Fa=!0,La),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Ea,useValue:n}];return n.run(()=>{const e=Xi.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{za(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return po(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(uA){throw e.runOutsideAngular(()=>t.handleError(uA)),uA}}(o,n,()=>{const t=i.injector.get(ra);return t.runInitializers(),t.donePromise.then(()=>(Oo(i.injector.get(ha,Ro)||Ro),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ba({},e);return function(t,e,n){const r=new Ms(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ha);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Z(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Wn(Xi))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Ba(t,e){return Array.isArray(e)?e.reduce(Ba,t):Object.assign(Object.assign({},t),e)}let Ha=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ea.assertNotInAngularZone(),Sa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:B(e)(H(t,n))}(o,s.pipe(t=>{return z()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,W);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Do?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ws),i=n.create(Xi.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ra,null),a=s&&i.injector.get(Na);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),za(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(uA){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(uA))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;za(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ca,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Wn(Ea),Wn(Xi),Wn(cr),Wn(Lo),Wn(ra))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function za(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ga{}class $a{}const Ka={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Wa=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ka}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(255)(e).then(t=>t[r]).then(t=>Qa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Qa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Wn(wa),Wn($a,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Qa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ya=Ua(null,"core",[{provide:ua,useValue:"unknown"},{provide:qa,deps:[Xi]},{provide:Na,deps:[]},{provide:la,deps:[]}]),Xa=[{provide:Ha,useClass:Ha,deps:[Ea,Xi,cr,Lo,ra]},{provide:Os,deps:[Ea],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ra,useClass:ra,deps:[[new Zn,na]]},{provide:wa,useClass:wa,deps:[]},oa,{provide:is,useFactory:function(){return ds},deps:[]},{provide:ss,useFactory:function(){return ps},deps:[]},{provide:ha,useFactory:function(t){return Oo(t=t||"undefined"!=typeof $localize&&$localize.locale||Ro),t},deps:[[new Xn(ha),new Zn,new Jn]]},{provide:fa,useValue:"USD"}];let Za=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Wn(Ha))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({providers:Xa}),t})(),Ja=null;function tu(){return Ja}const eu=new Pn("DocumentToken");let nu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:ru,token:t,providedIn:"platform"}),t})();function ru(){return Wn(ou)}const iu=new Pn("Location Initialized");let ou=(()=>{class t extends nu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tu().getBaseHref(this._doc)}onPopState(t){const e=tu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=tu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){su()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){su()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Wn(eu))},t.\u0275prov=at({factory:au,token:t,providedIn:"platform"}),t})();function su(){return!!window.history.pushState}function au(){return new ou(Wn(eu))}function uu(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function cu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function lu(t){return t&&"?"!==t[0]?"?"+t:t}let hu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:fu,token:t,providedIn:"root"}),t})();function fu(t){const e=Wn(eu).location;return new pu(Wn(nu),e&&e.origin||"")}const du=new Pn("appBaseHref");let pu=(()=>{class t extends hu{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uu(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+lu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+lu(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+lu(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Wn(nu),Wn(du,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),gu=(()=>{class t extends hu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=uu(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+lu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+lu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(Wn(nu),Wn(du,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),mu=(()=>{class t{constructor(t,e){this._subject=new Vs,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=cu(vu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+lu(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,vu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lu(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lu(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Wn(hu),Wn(nu))},t.normalizeQueryParams=lu,t.joinWithSlash=uu,t.stripTrailingSlash=cu,t.\u0275prov=at({factory:yu,token:t,providedIn:"root"}),t})();function yu(){return new mu(Wn(hu),Wn(nu))}function vu(t){return t.replace(/\/index.html$/,"")}var bu=(()=>((bu=bu||{})[bu.Zero=0]="Zero",bu[bu.One=1]="One",bu[bu.Two=2]="Two",bu[bu.Few=3]="Few",bu[bu.Many=4]="Many",bu[bu.Other=5]="Other",bu))();class wu{}let _u=(()=>{class t extends wu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ko(e);if(n)return n;const r=e.split("-")[0];if(n=ko(r),n)return n;if("en"===r)return Co;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ao.PluralCase]}(e||this.locale)(t)){case bu.Zero:return"zero";case bu.One:return"one";case bu.Two:return"two";case bu.Few:return"few";case bu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Wn(ha))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Su(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Eu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(bp){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Eu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Iu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Iu(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ao(Es),ao(ms),ao(is))},t.\u0275dir=zt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Iu{constructor(t,e){this.record=t,this.view=e}}let Cu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new xu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ku("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ku("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(ao(Es),ao(ms))},t.\u0275dir=zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class xu{constructor(){this.$implicit=null,this.ngIf=null}}function ku(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Z(e)}'.`)}let Au=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(ao(Uo),ao(ss),ao(Bo))},t.\u0275dir=zt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Ru=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({providers:[{provide:wu,useClass:_u}]}),t})(),Nu=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new Ou(Wn(eu),window)}),t})();class Ou{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Du(this.window.history)||Du(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(bp){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(bp){return!1}}}function Du(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Pu{}class Lu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Lu,Ja||(Ja=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null);return null==e?null:function(t){Fu=Fu||document.createElement("a"),Fu.setAttribute("href",t);const e=Fu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Su(document.cookie,t)}}let Fu,Mu=null;const ju=new Pn("TRANSITION_ID"),Uu=[{provide:na,useFactory:function(t,e,n){return()=>{n.get(ra).donePromise.then(()=>{const n=tu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[ju,eu,Xi],multi:!0}];class Vu{static init(){var t;t=new Vu,Pa=t}addToWindow(t){xt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},xt.getAllAngularTestabilities=()=>t.getAllTestabilities(),xt.getAllAngularRootElements=()=>t.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(t=>{const e=xt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?tu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let qu=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Bu=new Pn("EventManagerPlugins");let Hu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Wn(Bu),Wn(Ea))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class zu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=tu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Gu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),$u=(()=>{class t extends Gu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Ku),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ku))}}return t.\u0275fac=function(e){return new(e||t)(Wn(eu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Ku(t){tu().remove(t)}const Wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qu=/%COMP%/g;function Yu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Yu(t,i,n):(i=i.replace(Qu,t),n.push(i))}return n}function Xu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Zu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ju(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case St.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case St.ShadowDom:return new ec(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Yu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Wn(Hu),Wn($u),Wn(ia))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Ju{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Wu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Wu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Wu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(fr.DashCase|fr.Important)?t.style.setProperty(e,n,r&fr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&fr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Xu(n)):this.eventManager.addEventListener(t,e,Xu(n))}}class tc extends Ju{constructor(t,e,n,r){super(t),this.component=n;const i=Yu(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Qu,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Qu,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ec extends Ju{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Yu(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nc=(()=>{class t extends zu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wn(eu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const rc=["alt","control","meta","shift"],ic={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ac=(()=>{class t extends zu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&oc.hasOwnProperty(e)&&(e=oc[e]))}return ic[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rc.forEach(r=>{r!=n&&(0,sc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Wn(eu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const uc=Ua(Ya,"browser",[{provide:ua,useValue:"browser"},{provide:aa,useValue:function(){Lu.makeCurrent(),Vu.init()},multi:!0},{provide:eu,useFactory:function(){return function(t){ce=t}(document),document},deps:[]}]),cc=[[],{provide:Ui,useValue:"root"},{provide:cr,useFactory:function(){return new cr},deps:[]},{provide:Bu,useClass:nc,multi:!0,deps:[eu,Ea,ua]},{provide:Bu,useClass:ac,multi:!0,deps:[eu]},[],{provide:Zu,useClass:Zu,deps:[Hu,$u,ia]},{provide:qo,useExisting:Zu},{provide:Gu,useExisting:$u},{provide:$u,useClass:$u,deps:[eu]},{provide:Ra,useClass:Ra,deps:[Ea]},{provide:Hu,useClass:Hu,deps:[Bu,Ea]},{provide:Pu,useClass:qu,deps:[]},[]];let lc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ia,useValue:e.appId},{provide:ju,useExisting:ia},Uu]}}}return t.\u0275fac=function(e){return new(e||t)(Wn(t,12))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({providers:cc,imports:[Ru,Za]}),t})();function hc(...t){let e=t[t.length-1];return I(e)?(t.pop(),P(t,e)):H(t)}function fc(t,e){return U(t,e,1)}function dc(t,e){return function(n){return n.lift(new pc(t,e))}}"undefined"!=typeof window&&window;class pc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new gc(t,this.predicate,this.thisArg))}}class gc extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class mc{}class yc{}class vc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof vc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new vc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof vc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bc{encodeKey(t){return wc(t)}encodeValue(t){return wc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function wc(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function _c(t){return`${t}`}class Sc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bc,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Sc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(_c(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(_c(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Ec{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Tc(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ic(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Cc(t){return"undefined"!=typeof FormData&&t instanceof FormData}class xc{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new vc),this.context||(this.context=new Ec),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Sc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Tc(this.body)||Ic(this.body)||Cc(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Sc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Cc(this.body)?null:Ic(this.body)?this.body.type||null:Tc(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new xc(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var kc=(()=>((kc=kc||{})[kc.Sent=0]="Sent",kc[kc.UploadProgress=1]="UploadProgress",kc[kc.ResponseHeader=2]="ResponseHeader",kc[kc.DownloadProgress=3]="DownloadProgress",kc[kc.Response=4]="Response",kc[kc.User=5]="User",kc))();class Ac{constructor(t,e=200,n="OK"){this.headers=t.headers||new vc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rc extends Ac{constructor(t={}){super(t),this.type=kc.ResponseHeader}clone(t={}){return new Rc({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nc extends Ac{constructor(t={}){super(t),this.type=kc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Oc extends Ac{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Dc(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Pc=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof xc)r=t;else{let i,o;i=n.headers instanceof vc?n.headers:new vc(n.headers),n.params&&(o=n.params instanceof Sc?n.params:new Sc({fromObject:n.params})),r=new xc(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=hc(r).pipe(fc(t=>this.handler.handle(t)));if(t instanceof xc||"events"===n.observe)return i;const o=i.pipe(dc(t=>t instanceof Nc));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(C(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(C(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(C(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Sc).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Dc(n,e))}post(t,e,n={}){return this.request("POST",t,Dc(n,e))}put(t,e,n={}){return this.request("PUT",t,Dc(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Wn(mc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Lc{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Fc=new Pn("HTTP_INTERCEPTORS");let Mc=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const jc=/^\)\]\}',?\n/;let Uc=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new vc(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Rc({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(jc,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Nc({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Oc({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Oc({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:kc.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:kc.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:kc.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Wn(Pu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Vc=new Pn("XSRF_COOKIE_NAME"),qc=new Pn("XSRF_HEADER_NAME");class Bc{}let Hc=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Su(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Wn(eu),Wn(ua),Wn(Vc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),zc=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wn(Bc),Wn(qc))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Gc=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Fc,[]);this.chain=t.reduceRight((t,e)=>new Lc(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Wn(yc),Wn(Xi))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),$c=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:zc,useClass:Mc}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Vc,useValue:e.cookieName}:[],e.headerName?{provide:qc,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({providers:[zc,{provide:Fc,useExisting:zc,multi:!0},{provide:Bc,useClass:Hc},{provide:Vc,useValue:"XSRF-TOKEN"},{provide:qc,useValue:"X-XSRF-TOKEN"}]}),t})(),Kc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({providers:[Pc,{provide:mc,useClass:Gc},Uc,{provide:yc,useExisting:Uc}],imports:[[$c.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class Wc extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class Qc extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Yc extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Xc(t,e,n,r,i=new Yc(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):D(e)(i)}const Zc={};class Jc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new tl(t,this.resultSelector))}}class tl extends Qc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Zc),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Xc(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Zc?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const el=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function nl(...t){return B(1)(hc(...t))}const rl=new v(t=>t.complete());function il(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):rl}function ol(t){return new v(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):il()).subscribe(e)})}function sl(t,e){return"function"==typeof e?n=>n.pipe(sl((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))))):e=>e.lift(new al(t))}class al{constructor(t){this.project=t}call(t,e){return e.subscribe(new ul(t,this.project))}}class ul extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new F(this),r=this.destination;r.add(n),this.innerSubscription=j(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const cl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ll(t){return e=>0===t?il():e.lift(new hl(t))}class hl{constructor(t){if(this.total=t,this.total<0)throw new cl}call(t,e){return e.subscribe(new fl(t,this.total))}}class fl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function dl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pl(t,e,n))}}class pl{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new gl(t,this.accumulator,this.seed,this.hasSeed))}}class gl extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ml(t){return function(e){const n=new yl(t),r=e.lift(n);return n.caught=r}}class yl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new vl(t,this.selector,this.caught))}}class vl extends M{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new F(this);this.add(r);const i=j(n,r);i!==r&&this.add(i)}}}function bl(t){return function(e){return 0===t?il():e.lift(new wl(t))}}class wl{constructor(t){if(this.total=t,this.total<0)throw new cl}call(t,e){return e.subscribe(new _l(t,this.total))}}class _l extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Sl(t=Il){return e=>e.lift(new El(t))}class El{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Tl(t,this.errorFactory))}}class Tl extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(uA){t=uA}this.destination.error(t)}}}function Il(){return new el}function Cl(t=null){return e=>e.lift(new xl(t))}class xl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new kl(t,this.defaultValue))}}class kl extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Al(t,e){const n=arguments.length>=2;return r=>r.pipe(t?dc((e,n)=>t(e,n,r)):y,ll(1),n?Cl(e):Sl(()=>new el))}function Rl(){}function Nl(t,e,n){return function(r){return r.lift(new Ol(t,e,n))}}class Ol{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Dl(t,this.nextOrObserver,this.error,this.complete))}}class Dl extends p{constructor(t,e,n,i){super(t),this._tapNext=Rl,this._tapError=Rl,this._tapComplete=Rl,this._tapError=n||Rl,this._tapComplete=i||Rl,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Rl,this._tapError=e.error||Rl,this._tapComplete=e.complete||Rl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Pl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ll(t,this.callback))}}class Ll extends p{constructor(t,e){super(t),this.add(new h(e))}}class Fl{constructor(t,e){this.id=t,this.url=e}}class Ml extends Fl{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jl extends Fl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ul extends Fl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends Fl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ql extends Fl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends Fl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hl extends Fl{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zl extends Fl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gl extends Fl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kl{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wl{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ql{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jl="primary";class th{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function eh(t){return new th(t)}function nh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function rh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ih(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oh(t[i],e[i]))return!1;return!0}function oh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function sh(t){return Array.prototype.concat.apply([],t)}function ah(t){return t.length>0?t[t.length-1]:null}function uh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ch(t){return go(t)?t:po(t)?L(Promise.resolve(t)):hc(t)}const lh={exact:function t(e,n,r){if(!bh(e.segments,n.segments))return!1;if(!gh(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:dh},hh={exact:function(t,e){return ih(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oh(t[n],e[n]))},ignored:()=>!0};function fh(t,e,n){return lh[n.paths](t.root,e.root,n.matrixParams)&&hh[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function dh(t,e,n){return ph(t,e,e.segments,n)}function ph(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!bh(i,n)&&!e.hasChildren()&&!!gh(i,n,r)}if(t.segments.length===n.length){if(!bh(t.segments,n))return!1;if(!gh(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!dh(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!bh(t.segments,i)&&!!gh(t.segments,i,r)&&!!t.children.primary&&ph(t.children.primary,e,o,r)}}function gh(t,e,n){return e.every((e,r)=>hh[n](t[r].parameters,e.parameters))}class mh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eh(this.queryParams)),this._queryParamMap}toString(){return Sh.serialize(this)}}class yh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,uh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eh(this)}}class vh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=eh(this.parameters)),this._parameterMap}toString(){return Rh(this)}}function bh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class wh{}class _h{parse(t){const e=new Lh(t);return new mh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Th(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ch(e)}=${Ch(t)}`).join("&"):`${Ch(e)}=${Ch(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Sh=new _h;function Eh(t){return t.segments.map(t=>Rh(t)).join("/")}function Th(t,e){if(!t.hasChildren())return Eh(t);if(e){const e=t.children.primary?Th(t.children.primary,!1):"",n=[];return uh(t.children,(t,e)=>{e!==Jl&&n.push(`${e}:${Th(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return uh(t.children,(t,r)=>{r===Jl&&(n=n.concat(e(t,r)))}),uh(t.children,(t,r)=>{r!==Jl&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Jl?[Th(t.children.primary,!1)]:[`${n}:${Th(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Eh(t)}/${e[0]}`:`${Eh(t)}/(${e.join("//")})`}}function Ih(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ch(t){return Ih(t).replace(/%3B/gi,";")}function xh(t){return Ih(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kh(t){return decodeURIComponent(t)}function Ah(t){return kh(t.replace(/\+/g,"%20"))}function Rh(t){return`${xh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${xh(t)}=${xh(e[t])}`).join("")}`;var e}const Nh=/^[^\/()?;=#]+/;function Oh(t){const e=t.match(Nh);return e?e[0]:""}const Dh=/^[^=?&#]+/,Ph=/^[^?&#]+/;class Lh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yh([],{}):new yh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new yh(t,e)),n}parseSegment(){const t=Oh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vh(kh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Oh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Oh(this.remaining);t&&(n=t,this.capture(n))}t[kh(e)]=kh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Dh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ph);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ah(e),i=Ah(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Oh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Jl);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new yh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return jh(t,this._root).map(t=>t.value)}}function Mh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mh(t,n);if(e)return e}return null}function jh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jh(t,n);if(r.length)return r.unshift(e),r}return[]}class Uh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Vh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qh extends Fh{constructor(t,e){super(t),this.snapshot=e,Kh(this,t)}toString(){return this.snapshot.toString()}}function Bh(t,e){const n=function(t,e){const n=new Gh([],{},{},"",{},Jl,e,null,t.root,-1,{});return new $h("",new Uh(n,[]))}(t,e),r=new Wc([new vh("",{})]),i=new Wc({}),o=new Wc({}),s=new Wc({}),a=new Wc(""),u=new Hh(r,i,s,a,o,Jl,e,n.root);return u.snapshot=n.root,new qh(new Uh(u,[]),n)}class Hh{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C(t=>eh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C(t=>eh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zh(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gh{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $h extends Fh{constructor(t,e){super(e),this.url=t,Kh(this,e)}toString(){return Wh(this._root)}}function Kh(t,e){e.value._routerState=t,e.children.forEach(e=>Kh(t,e))}function Wh(t){const e=t.children.length>0?` { ${t.children.map(Wh).join(", ")} } `:"";return`${t.value}${e}`}function Qh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ih(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ih(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ih(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ih(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yh(t,e){return ih(t.params,e.params)&&function(t,e){return bh(t,e)&&t.every((t,n)=>ih(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Yh(t.parent,e.parent))}function Xh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Xh(t,e,r);return Xh(t,e)})}(t,e,n);return new Uh(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Zh(e,t),t}}const n=new Hh(new Wc((r=e.value).url),new Wc(r.params),new Wc(r.queryParams),new Wc(r.fragment),new Wc(r.data),r.outlet,r.component,r),i=e.children.map(e=>Xh(t,e));return new Uh(n,i)}var r}function Zh(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Zh(t.children[n],e.children[n])}function Jh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tf(t){return"object"==typeof t&&null!=t&&t.outlets}function ef(t,e,n,r,i){let o={};return r&&uh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new mh(n.root===t?e:nf(n.root,t,e),o,i)}function nf(t,e,n){const r={};return uh(t.children,(t,i)=>{r[i]=t===e?n:nf(t,e,n)}),new yh(t.segments,r)}class rf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Jh(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(tf);if(r&&r!==ah(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class of{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function sf(t,e,n){if(t||(t=new yh([],{})),0===t.segments.length&&t.hasChildren())return af(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(tf(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!hf(a,u,e))return o;r+=2}else{if(!hf(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new yh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new yh(t.segments.slice(r.pathIndex),t.children),af(e,0,i)}return r.match&&0===i.length?new yh(t.segments,{}):r.match&&!t.hasChildren()?uf(t,e,n):r.match?af(t,0,i):uf(t,e,n)}function af(t,e,n){if(0===n.length)return new yh(t.segments,{});{const r=function(t){return tf(t[0])?t[0].outlets:{[Jl]:t}}(n),i={};return uh(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=sf(t.children[r],e,n))}),uh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new yh(t.segments,i)}}function uf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(tf(o)){const t=cf(o.outlets);return new yh(r,t)}if(0===i&&Jh(n[0])){r.push(new vh(t.segments[e].path,lf(n[0]))),i++;continue}const s=tf(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jh(a)?(r.push(new vh(s,lf(a))),i+=2):(r.push(new vh(s,{})),i++)}return new yh(r,{})}function cf(t){const e={};return uh(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=uf(new yh([],{}),0,t))}),e}function lf(t){const e={};return uh(t,(t,n)=>e[n]=`${t}`),e}function hf(t,e,n){return t==n.path&&ih(e,n.parameters)}class ff{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Qh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Vh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),uh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Vh(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Vh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Xl(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ql(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Qh(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),df(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function df(t){Qh(t.value),t.children.forEach(df)}class pf{constructor(t,e){this.routes=t,this.module=e}}function gf(t){return"function"==typeof t}function mf(t){return t instanceof mh}const yf=Symbol("INITIAL_VALUE");function vf(){return sl(t=>function(...t){let e,n;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new Jc(e))}(t.map(t=>t.pipe(ll(1),function(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>nl(t,n,e)):e=>nl(t,e)}(yf)))).pipe(dl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==yf)return t;if(r===yf&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||mf(r))return r}return t},t)},yf),dc(t=>t!==yf),C(t=>mf(t)?t:!0===t),ll(1)))}let bf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=jt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&fo(0,"router-outlet")},directives:function(){return[yd]},encapsulation:2}),t})();function wf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];_f(r,Sf(e,r))}}function _f(t,e){t.children&&wf(t.children,e)}function Sf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ef(t){const e=t.children&&t.children.map(Ef),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Jl&&(n.component=bf),n}function Tf(t){return t.outlet||Jl}function If(t,e){const n=t.filter(t=>Tf(t)===e);return n.push(...t.filter(t=>Tf(t)!==e)),n}const Cf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Cf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rh)(n,t,e);if(!i)return Object.assign({},Cf);const o={};uh(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function kf(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Af(t,e,n)&&Tf(n)!==Jl)}(t,n,r)){const i=new yh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Tf(o)!==Jl){const n=new yh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Tf(o)]=n}return i}(t,e,r,new yh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Af(t,e,n))}(t,n,r)){const o=new yh(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Af(t,n,a)&&!i[Tf(a)]){const n=new yh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Tf(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new yh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Af(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Rf(t,e,n,r){return!!(Tf(t)===r||r!==Jl&&Af(e,n,t))&&("**"===t.path||xf(e,t,n).matched)}function Nf(t,e,n){return 0===e.length&&!t.children[n]}class Of{constructor(t){this.segmentGroup=t||null}}class Df{constructor(t){this.urlTree=t}}function Pf(t){return new v(e=>e.error(new Of(t)))}function Lf(t){return new v(e=>e.error(new Df(t)))}function Ff(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Mf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ws)}apply(){const t=kf(this.urlTree.root,[],[],this.config).segmentGroup,e=new yh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Jl).pipe(C(t=>this.createUrlTree(jf(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ml(t=>{if(t instanceof Df)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Of)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Jl).pipe(C(e=>this.createUrlTree(jf(e),t.queryParams,t.fragment))).pipe(ml(t=>{if(t instanceof Of)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new yh([],{[Jl]:t}):t;return new mh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(C(t=>new yh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return L(r).pipe(fc(r=>{const i=n.children[r],o=If(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(C(t=>({segment:t,outlet:r})))}),dl((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?dc((e,n)=>t(e,n,r)):y,bl(1),n?Cl(e):Sl(()=>new el))}())}expandSegment(t,e,n,r,i,o){return L(n).pipe(fc(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ml(t=>{if(t instanceof Of)return hc(null);throw t}))),Al(t=>!!t),ml((t,n)=>{if(t instanceof el||"EmptyError"===t.name){if(Nf(e,r,i))return hc(new yh([],{}));throw new Of(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Rf(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Pf(e):Pf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lf(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new yh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=xf(e,r,i);if(!s)return Pf(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Lf(l):this.lineralizeSegments(r,l).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?hc(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(C(t=>(n._loadedConfig=t,new yh(r,{})))):hc(new yh(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=xf(e,n,r);if(!o)return Pf(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(U(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=kf(e,s,u,o),l=new yh(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(C(t=>new yh(s,t)));if(0===o.length&&0===c.length)return hc(new yh(s,{}));const h=Tf(n)===i;return this.expandSegment(r,l,o,c,h?Jl:i,!0).pipe(C(t=>new yh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?hc(new pf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?hc(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(C(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(nh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):hc(new pf([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?hc(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&gf(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!gf(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return ch(o)})).pipe(vf(),Nl(t=>{if(!mf(t))return;const e=nh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),C(t=>!0===t)):hc(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return hc(n);if(r.numberOfChildren>1||!r.children.primary)return Ff(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new mh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return uh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return uh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new yh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function jf(t){const e={};for(const n of Object.keys(t.children)){const r=jf(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new yh(t.segments.concat(e.segments),e.children)}return t}(new yh(t.segments,e))}class Uf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vf{constructor(t,e){this.component=t,this.route=e}}function qf(t,e,n){const r=t._root;return Hf(r,e?e._root:null,n,[r.value])}function Bf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Hf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Vh(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bh(t.url,e.url)||!ih(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yh(t,e)||!ih(t.queryParams,e.queryParams);case"paramsChange":default:return!Yh(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Uf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Hf(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vf(a.outlet.component,s))}else s&&zf(e,a,i),i.canActivateChecks.push(new Uf(r)),Hf(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),uh(o,(t,e)=>zf(t,n.getContext(e),i)),i}function zf(t,e,n){const r=Vh(t),i=t.value;uh(r,(t,r)=>{zf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Gf{}function $f(t){return new v(e=>e.error(t))}class Kf{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=kf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Jl);if(null===e)return null;const n=new Gh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jl,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Uh(n,e),i=new $h(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=zh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=If(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Qf(n);return r.sort((t,e)=>t.value.outlet===Jl?-1:e.value.outlet===Jl?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Nf(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Rf(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ah(n).parameters:{};i=new Gh(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zf(t),Tf(t),t.component,t,Yf(e),Xf(e)+n.length,Jf(t))}else{const r=xf(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Gh(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zf(t),Tf(t),t.component,t,Yf(e),Xf(e)+o.length,Jf(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=kf(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Uh(i,t)]}if(0===a.length&&0===c.length)return[new Uh(i,[])];const l=Tf(t)===r,h=this.processSegment(a,u,c,l?Jl:r);return null===h?null:[new Uh(i,h)]}}function Wf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qf(t){const e=[],n=new Set;for(const r of t){if(!Wf(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Qf(r.children);e.push(new Uh(r.value,t))}return e.filter(t=>!n.has(t))}function Yf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zf(t){return t.data||{}}function Jf(t){return t.resolve||{}}function td(t){return sl(e=>{const n=t(e);return n?L(n).pipe(C(()=>e)):hc(e)})}class ed extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const nd=new Pn("ROUTES");class rd{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(C(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new pf(sh(r.injector.get(nd,void 0,mt.Self|mt.Optional)).map(Ef),r)}),ml(t=>{throw e._loader$=void 0,t}));return e._loader$=new K(n,()=>new E).pipe(z()),e._loader$}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):ch(t()).pipe(U(t=>t instanceof _s?hc(t):L(this.compiler.compileModuleAsync(t))))}}class id{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new od,this.attachRef=null}}class od{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new id,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class sd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ad(t){throw t}function ud(t,e,n){return e.parse("/")}function cd(t,e){return hc(null)}const ld={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fd=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=ad,this.malformedUriErrorHandler=ud,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cd,afterPreactivation:cd},this.urlHandlingStrategy=new sd,this.routeReuseStrategy=new ed,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(ws),this.console=i.get(la);const u=i.get(Ea);this.isNgZoneEnabled=u instanceof Ea&&Ea.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new mh(new yh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rd(o,s,t=>this.triggerEvent(new $l(t)),t=>this.triggerEvent(new Kl(t))),this.routerState=Bh(this.currentUrlTree,this.rootComponentType),this.transitions=new Wc({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(dc(t=>0!==t.id),C(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),sl(t=>{let n=!1,r=!1;return hc(t).pipe(Nl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return hc(t).pipe(sl(t=>{const n=this.transitions.getValue();return e.next(new Ml(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?rl:Promise.resolve(t)}),function(t,e,n,r){return sl(i=>function(t,e,n,r,i){return new Mf(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(C(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Nl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return U(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Kf(t,e,n,r,i,o).recognize();return null===s?$f(new Gf):hc(s)}catch(uA){return $f(uA)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(C(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new ql(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ml(n,this.serializeUrl(r),i,o);e.next(a);const u=Bh(r,this.rootComponentType).snapshot;return hc(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rl}),td(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Nl(t=>{const e=new Bl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),C(t=>Object.assign(Object.assign({},t),{guards:qf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?hc(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(U(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?hc(o.map(o=>{const s=Bf(o,e,i);let a;if(function(t){return t&&gf(t.canDeactivate)}(s))a=ch(s.canDeactivate(t,e,n,r));else{if(!gf(s))throw new Error("Invalid CanDeactivate guard");a=ch(s(t,e,n,r))}return a.pipe(Al())})).pipe(vf()):hc(!0)}(t.component,t.route,n,e,r)),Al(t=>!0!==t,!0))}(s,r,i,t).pipe(U(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return L(e).pipe(fc(e=>nl(function(t,e){return null!==t&&e&&e(new Wl(t)),hc(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Yl(t)),hc(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ol(()=>hc(e.guards.map(i=>{const o=Bf(i,e.node,n);let s;if(function(t){return t&&gf(t.canActivateChild)}(o))s=ch(o.canActivateChild(r,t));else{if(!gf(o))throw new Error("Invalid CanActivateChild guard");s=ch(o(r,t))}return s.pipe(Al())})).pipe(vf())));return hc(i).pipe(vf())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?hc(r.map(r=>ol(()=>{const i=Bf(r,e,n);let o;if(function(t){return t&&gf(t.canActivate)}(i))o=ch(i.canActivate(e,t));else{if(!gf(i))throw new Error("Invalid CanActivate guard");o=ch(i(e,t))}return o.pipe(Al())}))).pipe(vf()):hc(!0)}(t,e.route,n))),Al(t=>!0!==t,!0))}(r,o,t,e):hc(n)),C(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Nl(t=>{if(mf(t.guardsResult)){const e=nh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Hl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),dc(t=>!!t.guardsResult||(this.cancelNavigationTransitionRestoreHistory(t,""),!1)),td(t=>{if(t.guards.canActivateChecks.length)return hc(t).pipe(Nl(t=>{const e=new zl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),sl(t=>{let e=!1;return hc(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return hc(t);let o=0;return L(i).pipe(fc(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return hc({});const o={};return L(i).pipe(U(i=>function(t,e,n,r){const i=Bf(t,e,r);return ch(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Nl(t=>{o[i]=t}))),bl(1),U(()=>Object.keys(o).length===i.length?hc(o):rl))}(t._resolve,t,e,r).pipe(C(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zh(t,n).resolve),null)))}(t.route,e,n,r)),Nl(()=>o++),bl(1),U(e=>o===i.length?hc(t):rl))})),Nl({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransitionRestoreHistory(t,"At least one route resolver didn't emit any value.")}}));var n,r}),Nl(t=>{const e=new Gl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),td(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),C(t=>{const e=function(t,e,n){const r=Xh(t,e._root,n?n._root:void 0);return new qh(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Nl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),C(t=>(new ff(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Nl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?this.cancelNavigationTransitionRestoreHistory(t,e):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new Pl(i))),ml(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=mf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ul(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Vl(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ow){t.reject(Ow)}}var i;return rl}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wf(t),this.config=t.map(Ef),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return ef(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new rf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return uh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new rf(n,e,r)}(n);if(o.toRoot())return ef(e.root,new yh([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new of(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new of(t,t===e.root,0)}const r=Jh(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new of(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?af(s.segmentGroup,s.index,o.commands):sf(s.segmentGroup,s.index,o.commands);return ef(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=mf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(uA){e=this.malformedUriErrorHandler(uA,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},ld):!1===e?Object.assign({},hd):e,mf(t))return fh(this.currentUrlTree,t,n);const r=this.parseUrl(t);return fh(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new jl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,f;i?(l=i.resolve,h=i.reject,f=i.promise):f=new Promise((t,e)=>{l=t,h=e});const d=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:d,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransitionRestoreHistory(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree(),this.cancelNavigationTransition(t,e)}cancelNavigationTransition(t,e){const n=new Ul(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(Wn(Fn),Wn(wh),Wn(od),Wn(mu),Wn(Xi),Wn(Ga),Wn(wa),Wn(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new E,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:gd(this.skipLocationChange),replaceUrl:gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gd(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ao(fd),ao(Hh),Nn("tabindex"),ao(Bo),ao(Uo))},t.\u0275dir=zt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&mo("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[re]}),t})(),pd=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new E,this.subscription=t.events.subscribe(t=>{t instanceof jl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:gd(this.skipLocationChange),replaceUrl:gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:gd(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(ao(fd),ao(Hh),ao(hu))},t.\u0275dir=zt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&mo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(To("href",e.href,ir),io("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[re]}),t})();function gd(t){return""===t||!!t}let md=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof jl&&this.update()})}ngAfterContentInit(){hc(this.links.changes,this.linksWithHrefs.changes,hc(null)).pipe(B()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=L(e).pipe(B()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(ao(fd),ao(Uo),ao(Bo),ao(hs),ao(dd,8),ao(pd,8))},t.\u0275dir=zt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(Js(n,dd,5),Js(n,pd,5)),2&t){let t;Zs(t=ta())&&(e.links=t),Zs(t=ta())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[re]}),t})(),yd=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Vs,this.deactivateEvents=new Vs,this.name=r||Jl,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vd(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(ao(od),ao(Es),ao(Lo),Nn("name"),ao(hs))},t.\u0275dir=zt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vd{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Hh?this.route:t===od?this.childContexts:this.parent.get(t,e)}}class bd{}class wd{preload(t,e){return hc(null)}}let _d=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new rd(e,n,e=>t.triggerEvent(new $l(e)),e=>t.triggerEvent(new Kl(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(dc(t=>t instanceof jl),fc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ws);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(B(),C(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?hc(e._loadedConfig):this.loader.load(t.injector,e)).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Wn(fd),Wn(Ga),Wn(wa),Wn(Xi),Wn(bd))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Sd=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ml?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Zl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Wn(fd),Wn(Nu),Wn(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ed=new Pn("ROUTER_CONFIGURATION"),Td=new Pn("ROUTER_FORROOT_GUARD"),Id=[mu,{provide:wh,useClass:_h},{provide:fd,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new fd(null,t,e,n,r,i,o,sh(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[wh,od,mu,Xi,Ga,wa,nd,Ed,[class{},new Zn],[class{},new Zn]]},od,{provide:Hh,useFactory:function(t){return t.routerState.root},deps:[fd]},{provide:Ga,useClass:Wa},_d,wd,class{preload(t,e){return e().pipe(ml(()=>hc(null)))}},{provide:Ed,useValue:{enableTracing:!1}}];function Cd(){return new ja("Router",fd)}let xd=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Id,Nd(e),{provide:Td,useFactory:Rd,deps:[[fd,new Zn,new Jn]]},{provide:Ed,useValue:n||{}},{provide:hu,useFactory:Ad,deps:[nu,[new Xn(du),new Zn],Ed]},{provide:Sd,useFactory:kd,deps:[fd,Nu,Ed]},{provide:bd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:wd},{provide:ja,multi:!0,useFactory:Cd},[Od,{provide:na,multi:!0,useFactory:Dd,deps:[Od]},{provide:Ld,useFactory:Pd,deps:[Od]},{provide:ca,multi:!0,useExisting:Ld}]]}}static forChild(e){return{ngModule:t,providers:[Nd(e)]}}}return t.\u0275fac=function(e){return new(e||t)(Wn(Td,8),Wn(fd,8))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({}),t})();function kd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Sd(t,e,n)}function Ad(t,e,n={}){return n.useHash?new gu(t,e):new pu(t,e)}function Rd(t){return"guarded"}function Nd(t){return[{provide:Ln,multi:!0,useValue:t},{provide:nd,multi:!0,useValue:t}]}let Od=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(iu,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(fd),r=this.injector.get(Ed);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?hc(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ed),n=this.injector.get(_d),r=this.injector.get(Sd),i=this.injector.get(fd),o=this.injector.get(Ha);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(Wn(Xi))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Dd(t){return t.appInitializer.bind(t)}function Pd(t){return t.bootstrapListener.bind(t)}const Ld=new Pn("Router Initializer");let Fd=(()=>{class t{constructor(t){this.http=t,this.cargando=!0,this.productos=[],this.productosFiltrado=[],this.cargarProductos()}cargarProductos(){return new Promise((t,e)=>{this.http.get("https://angular-html-7f46c-default-rtdb.firebaseio.com/productos_idx.json").subscribe(e=>{this.productos=e,this.cargando=!1,t()})})}getProducto(t){return this.http.get(`https://angular-html-7f46c-default-rtdb.firebaseio.com/productos/${t}.json`)}buscarProducto(t){0===this.productos.length?this.cargarProductos().then(()=>{this.filtrarProductos(t)}):this.filtrarProductos(t)}filtrarProductos(t){this.productosFiltrado=[],t=t.toLowerCase(),this.productos.forEach(e=>{const n=e.titulo.toLocaleLowerCase();(e.categoria.indexOf(t)>=0||n.indexOf(t)>=0)&&this.productosFiltrado.push(e)})}}return t.\u0275fac=function(e){return new(e||t)(Wn(Pc))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Md(t,e){1&t&&(lo(0,"div",3),lo(1,"h2"),_o(2,"Cargando..."),ho(),lo(3,"div",4),Ke(),lo(4,"svg",5),fo(5,"path",6),lo(6,"path",7),fo(7,"animateTransform",8),ho(),ho(),ho(),We(),lo(8,"p"),_o(9,"Espere por favor"),ho(),ho())}const jd=function(t){return["/item",t]};function Ud(t,e){if(1&t&&(lo(0,"a",11),fo(1,"img",12),lo(2,"div",13),lo(3,"h2"),_o(4),ho(),lo(5,"p"),_o(6),ho(),ho(),ho()),2&t){const t=e.$implicit;uo("routerLink",js(4,jd,t.cod)),Qr(1),wo("src","assets/productos/",t.url,".jpg",ir),Qr(3),So(t.titulo),Qr(2),So(t.categoria)}}function Vd(t,e){if(1&t&&(lo(0,"div",9),so(1,Ud,7,6,"a",10),ho()),2&t){const t=bo();Qr(1),uo("ngForOf",t.productosService.productos)}}let qd=(()=>{class t{constructor(t){this.productosService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ao(Fd))},t.\u0275cmp=jt({type:t,selectors:[["app-portafolio"]],decls:3,vars:2,consts:[[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio"],["align","center",4,"ngIf"],["class","ae-masonry ae-masonry-md-2 ae-masonry-xl-4",4,"ngIf"],["align","center"],["title","0",1,"loader","loader--style1"],["version","1.1","id","loader-1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","40px","height","40px","viewBox","0 0 40 40","enable-background","new 0 0 40 40",0,"xml","space","preserve"],["opacity","0.2","fill","#000","d","M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\n            s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\n            c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"],["fill","#000","d","M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\n            C22.32,8.481,24.301,9.057,26.013,10.047z"],["attributeType","xml","attributeName","transform","type","rotate","from","0 20 20","to","360 20 20","dur","0.5s","repeatCount","indefinite"],[1,"ae-masonry","ae-masonry-md-2","ae-masonry-xl-4"],["class","animated fadeIn rk-item ae-masonry__item",3,"routerLink",4,"ngFor","ngForOf"],[1,"animated","fadeIn","rk-item","ae-masonry__item",3,"routerLink"],["alt","",3,"src"],[1,"item-meta"]],template:function(t,e){1&t&&(lo(0,"section",0),so(1,Md,10,0,"div",1),so(2,Vd,2,1,"div",2),ho()),2&t&&(Qr(1),uo("ngIf",e.productosService.cargando),Qr(1),uo("ngIf",!e.productosService.cargando))},directives:[Cu,Tu,pd],styles:[""]}),t})(),Bd=(()=>{class t{constructor(t){this.http=t,this.info={},this.cargada=!1,this.equipo=[],this.cargarInfo(),this.cargarEquipo()}cargarInfo(){this.http.get("assets/data/data-pagina.json").subscribe(t=>{this.cargada=!0,this.info=t})}cargarEquipo(){this.http.get("https://angular-html-7f46c-default-rtdb.firebaseio.com/equipo.json").subscribe(t=>{this.equipo=t})}}return t.\u0275fac=function(e){return new(e||t)(Wn(Pc))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hd(t,e){if(1&t&&(lo(0,"div",13),fo(1,"img",14),lo(2,"h5",15),_o(3),ho(),lo(4,"p",16),_o(5),ho(),lo(6,"p",17),_o(7),ho(),lo(8,"a",18),_o(9),ho(),ho()),2&t){const t=e.$implicit;Qr(1),uo("src",t.url,ir),Qr(2),So(t.nombre),Qr(2),So(t.subtitulo),Qr(2),So(t.frase),Qr(1),wo("href","http://twitter.com/",t.twitter,"",ir),Qr(1),So(t.twitter)}}let zd=(()=>{class t{constructor(t){this.infoService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ao(Bd))},t.\u0275cmp=jt({type:t,selectors:[["app-about"]],decls:34,vars:1,consts:[[1,"ae-grid","au-xs-ta-center","au-mb-4"],["class","animated fadeIn ae-grid__item item-lg-4 ae-kappa au-mb-3",4,"ngFor","ngForOf"],[1,"ae-grid","au-pt-2"],[1,"ae-grid__item","item-lg-8","item-lg--offset-2"],[1,"ae-u-bolder"],[1,"ae-grid","ae-grid--alt","au-xs-ptp-1"],[1,"ae-grid__item--alt","item-lg-4"],[1,"ae-u-boldest"],[1,"au-lh-3"],[1,"au-flex","au-pt-4","group-buttons"],["href","portfolio.html",1,"au-mt-4","arrow-button","arrow-button--right","arrow-button--out"],[1,"arrow-cont"],[0,"xlink","href","assets/img/symbols.svg#arrow"],[1,"animated","fadeIn","ae-grid__item","item-lg-4","ae-kappa","au-mb-3"],["alt","",1,"au-mb-3",3,"src"],[1,"ae-u-bolder","au-mt-2"],[1,"ae-u-bolder","au-mb-3"],[1,"au-lg-ta-left","au-mb-3","au-pl-4","au-pr-4"],["target","_blank",1,"ae-u-bolder","au-underline",3,"href"]],template:function(t,e){1&t&&(lo(0,"div",0),so(1,Hd,10,6,"div",1),ho(),lo(2,"div",2),lo(3,"div",3),lo(4,"h4",4),_o(5,"Title example"),ho(),lo(6,"p"),_o(7,"Totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur."),ho(),ho(),ho(),lo(8,"div",5),lo(9,"div",6),lo(10,"h6",7),_o(11,"About Us"),ho(),lo(12,"p",8),_o(13,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. "),ho(),ho(),lo(14,"div",6),lo(15,"h6",7),_o(16,"Our Mission"),ho(),lo(17,"p",8),_o(18,"Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "),fo(19,"br"),_o(20,"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),ho(),ho(),lo(21,"div",6),lo(22,"h6",7),_o(23,"Our Clients"),ho(),lo(24,"p",8),_o(25,"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. "),ho(),lo(26,"p",8),_o(27,"Nemo enim ipsam voluptatem quia voluptas"),ho(),ho(),ho(),lo(28,"p",9),lo(29,"a",10),_o(30,"View Our Portfolio"),lo(31,"span",11),Ke(),lo(32,"svg"),fo(33,"use",12),ho(),ho(),ho(),ho()),2&t&&(Qr(1),uo("ngForOf",e.infoService.equipo))},directives:[Tu],styles:[""]}),t})();const Gd=function(t){return{"background-image":t}};function $d(t,e){if(1&t&&(lo(0,"section"),lo(1,"header",1),lo(2,"div",2),lo(3,"h1",3),_o(4),ho(),lo(5,"p",4),_o(6),ho(),ho(),ho(),lo(7,"div",5),lo(8,"div",6),lo(9,"div",7),lo(10,"h2",8),_o(11),ho(),ho(),lo(12,"div",9),lo(13,"p",10),lo(14,"span",11),_o(15,"Client: "),ho(),lo(16,"span",12),_o(17,"Agency Design Studio"),ho(),ho(),lo(18,"p",13),lo(19,"a",14),_o(20,"www.agencydesign.com"),ho(),ho(),lo(21,"p",15),_o(22,"12 August, 2015"),ho(),ho(),ho(),ho(),lo(23,"div",16),lo(24,"div",17),lo(25,"div",18),lo(26,"h4",12),_o(27),ho(),lo(28,"p",19),_o(29,"A series of essential stationery format to showcase your branding projects. "),ho(),lo(30,"p",19),_o(31,"It includes a A6 flyer, A5 folder, A4 horizontal paper and a business card mockup. You can easily put your own graphics and create a new layout according to your needs."),ho(),ho(),lo(32,"div",20),fo(33,"img",21),ho(),ho(),lo(34,"div",22),lo(35,"div",23),fo(36,"img",21),ho(),lo(37,"div",24),lo(38,"p"),_o(39,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),ho(),lo(40,"p",25),_o(41,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit "),fo(42,"br"),_o(43,"in voluptate velit esse cillum dolore eu fugiat nulla pariatur. "),ho(),lo(44,"p",12),_o(45,"Right Box Small Text"),ho(),ho(),ho(),ho(),ho()),2&t){const t=bo();Qr(1),uo("ngStyle",js(7,Gd,"url(assets/productos/"+t.id+"/main.jpg)")),Qr(3),So(t.producto.producto),Qr(2),So(t.producto.categoria),Qr(5),So(t.producto.subtitulo1),Qr(16),So(t.producto.subtitulo1),Qr(6),wo("src","assets/productos/",t.id,"/pic-1.jpg",ir),Qr(3),wo("src","assets/productos/",t.id,"/pic-2.jpg",ir)}}let Kd=(()=>{class t{constructor(t,e){this.route=t,this.productoService=e,this.producto=[],this.id=""}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id,this.productoService.getProducto(t.id).subscribe(t=>{this.producto=t})})}}return t.\u0275fac=function(e){return new(e||t)(ao(Hh),ao(Fd))},t.\u0275cmp=jt({type:t,selectors:[["app-item"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"rk-portfolio-cover","item-inside-1",3,"ngStyle"],[1,"item-inside__meta"],[1,"ae-u-bolder","rk-portfolio-title"],[1,"ae-theta","rk-portfolio-category"],[1,"ae-container-fluid"],[1,"ae-grid","ae-grid--collapse","rk-portfolio-info"],[1,"ae-grid__item","item-lg-8","item-sm--center","au-xs-ta-center","au-lg-ta-left"],[1,"rk-portfolio-inner-title"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-right","rk-portfolio-details"],[1,"rk-portfolio-inner-client"],[1,"ae-lambda"],[1,"ae-u-bolder"],[1,"au-underline","rk-portfolio-inner-website"],["href","#0",1,"ae-kappa"],[1,"ae-kappa","ae-u-bold","rk-portfolio-inner-date"],[1,"ae-container-fluid","ae-container-fluid--inner","rk-portfolio--inner"],[1,"ae-grid","ae-grid--collapse","au-xs-ptp-1"],[1,"ae-grid__item","item-lg-5","au-lg-ptp-1"],[1,"ae-eta"],[1,"ae-grid__item","item-lg-6","item-lg--offset-1"],["alt","Urku Portfolio",3,"src"],[1,"ae-grid","ae-grid--collapse"],[1,"ae-grid__item","item-lg-8"],[1,"ae-grid__item","item-lg-3","item-lg--offset-1","au-lg-ptp-1"],[1,"au-mb-3"]],template:function(t,e){1&t&&so(0,$d,46,9,"section",0),2&t&&uo("ngIf",e.producto)},directives:[Cu,Au],styles:[""]}),t})();const Wd=function(t){return["/item",t]};function Qd(t,e){if(1&t&&(lo(0,"a",2),fo(1,"img",3),lo(2,"div",4),lo(3,"h2"),_o(4),ho(),lo(5,"p"),_o(6),ho(),ho(),ho()),2&t){const t=e.$implicit;uo("routerLink",js(4,Wd,t.cod)),Qr(1),wo("src","assets/productos/",t.url,".jpg",ir),Qr(3),So(t.titulo),Qr(2),So(t.categoria)}}let Yd=(()=>{class t{constructor(t,e){this.route=t,this.productoService=e}ngOnInit(){this.route.params.subscribe(t=>{this.productoService.buscarProducto(t.termino)})}}return t.\u0275fac=function(e){return new(e||t)(ao(Hh),ao(Fd))},t.\u0275cmp=jt({type:t,selectors:[["app-search"]],decls:2,vars:1,consts:[[1,"ae-masonry","ae-masonry-md-2","ae-masonry-xl-4"],["class","animated fadeIn rk-item ae-masonry__item",3,"routerLink",4,"ngFor","ngForOf"],[1,"animated","fadeIn","rk-item","ae-masonry__item",3,"routerLink"],["alt","",3,"src"],[1,"item-meta"]],template:function(t,e){1&t&&(lo(0,"div",0),so(1,Qd,7,6,"a",1),ho()),2&t&&(Qr(1),uo("ngForOf",e.productoService.productosFiltrado))},directives:[Tu,pd],styles:[""]}),t})();var Xd=function(t,e){return(Xd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Zd(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Jd=function(){return(Jd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function tp(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(uA){o(uA)}}function a(t){try{u(r.throw(t))}catch(uA){o(uA)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function ep(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(uA){o=[6,uA],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function np(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rp(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ip(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function sp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=sp(t[n],e[n]));return t}var ap=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function up(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function cp(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(uA){return!1}}var lp=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,hp.prototype.create),o}return Zd(e,t),e}(Error),hp=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?fp(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new lp(i,a,r);return u},t}();function fp(t,e){return t.replace(dp,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var dp=/\{\$([^}]+)}/g;function pp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gp(t,e){var n=new mp(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var mp=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=yp),void 0===r.error&&(r.error=yp),void 0===r.complete&&(r.complete=yp);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(uA){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(uA){"undefined"!=typeof console&&console.error&&console.error(uA)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function yp(){}function vp(t){return t&&t._delegate?t._delegate:t}var bp,wp=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),_p="[DEFAULT]",Sp=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ap;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(uA){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uA){if(r)return null;throw uA}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:_p})}catch(uA){}try{for(var r=np(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=rp(i.value,2),s=o[1],a=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch(uA){}}}catch(c){e={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=_p),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return tp(this,void 0,void 0,function(){var t;return ep(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ip(ip([],rp(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),rp(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=_p),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var a=np(this.instancesDeferred.entries()),u=a.next();!u.done;u=a.next()){var c=rp(u.value,2),l=c[1];o===this.normalizeInstanceIdentifier(c[0])&&l.resolve(s)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,i=this.onInitCallbacks.get(e);if(i)try{for(var o=np(i),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===_p?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch($k){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=_p),this.component?this.component.multipleInstances?t:_p:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),Ep=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Sp(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function Tp(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Ip,Cp=[],xp=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(xp||(xp={})),xp))(),kp={debug:xp.DEBUG,verbose:xp.VERBOSE,info:xp.INFO,warn:xp.WARN,error:xp.ERROR,silent:xp.SILENT},Ap=xp.INFO,Rp=((bp={})[xp.DEBUG]="log",bp[xp.VERBOSE]="log",bp[xp.INFO]="info",bp[xp.WARN]="warn",bp[xp.ERROR]="error",bp),Np=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Rp[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Tp(["["+i+"]  "+t.name+":"],n))}},Op=function(){function t(t){this.name=t,this._logLevel=Ap,this._logHandler=Np,this._userLogHandler=null,Cp.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in xp))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?kp[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Tp([this,xp.DEBUG],t)),this._logHandler.apply(this,Tp([this,xp.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Tp([this,xp.VERBOSE],t)),this._logHandler.apply(this,Tp([this,xp.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Tp([this,xp.INFO],t)),this._logHandler.apply(this,Tp([this,xp.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Tp([this,xp.WARN],t)),this._logHandler.apply(this,Tp([this,xp.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Tp([this,xp.ERROR],t)),this._logHandler.apply(this,Tp([this,xp.ERROR],t))},t}();function Dp(t){Cp.forEach(function(e){e.setLogLevel(t)})}var Pp,Lp=((Ip={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ip["bad-app-name"]="Illegal App name: '{$appName}",Ip["duplicate-app"]="Firebase App named '{$appName}' already exists",Ip["app-deleted"]="Firebase App named '{$appName}' already deleted",Ip["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ip["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ip),Fp=new hp("app","Firebase",Lp),Mp="@firebase/app",jp="[DEFAULT]",Up=((Pp={})[Mp]="fire-core",Pp["@firebase/analytics"]="fire-analytics",Pp["@firebase/app-check"]="fire-app-check",Pp["@firebase/auth"]="fire-auth",Pp["@firebase/database"]="fire-rtdb",Pp["@firebase/functions"]="fire-fn",Pp["@firebase/installations"]="fire-iid",Pp["@firebase/messaging"]="fire-fcm",Pp["@firebase/performance"]="fire-perf",Pp["@firebase/remote-config"]="fire-rc",Pp["@firebase/storage"]="fire-gcs",Pp["@firebase/firestore"]="fire-fst",Pp["fire-js"]="fire-js",Pp["firebase-wrapper"]="fire-js-all",Pp),Vp=new Op("@firebase/app"),qp=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=sp(void 0,t),this.container=new Ep(e.name),this._addComponent(new wp("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=jp),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=jp),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(uA){Vp.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,uA)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Fp.create("app-deleted",{appName:this.name_})},t}();qp.prototype.name&&qp.prototype.options||qp.prototype.delete||console.log("dc");var Bp=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=jp);var s=o.name;if("string"!=typeof s||!s)throw Fp.create("bad-app-name",{appName:String(s)});if(pp(e,s))throw Fp.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=Up[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void Vp.warn(u.join(" "))}o(new wp(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:Dp,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw Fp.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=kp[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:xp[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Cp;r<i.length;r++)n(i[r])}(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!pp(e,t=t||jp))throw Fp.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return Vp.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw Fp.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&sp(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(qp);return e.INTERNAL=Jd(Jd({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){sp(e,t)},createSubscribe:gp,ErrorFactory:hp,deepExtend:sp}),e}(),Hp=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Vp.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zp=self.firebase.SDK_VERSION;zp&&zp.indexOf("LITE")>=0&&Vp.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Gp=Bp.initializeApp;Bp.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cp()&&Vp.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Gp.apply(void 0,t)};var $p=Bp;!function(t,e){t.INTERNAL.registerComponent(new wp("platform-logger",function(t){return new Hp(t)},"PRIVATE")),t.registerVersion(Mp,"0.6.28",void 0),t.registerVersion("fire-js","")}($p);const Kp=$p;var Wp="8.8.0";Kp.registerVersion("firebase",Wp,"app"),Kp.SDK_VERSION=Wp;var Qp=function(t,e){return(Qp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Yp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Xp,Zp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Jp=Jp||{},tg=Zp||self;function eg(){}function ng(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function rg(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ig="closure_uid_"+(1e9*Math.random()>>>0),og=0;function sg(t,e,n){return t.call.apply(t.bind,arguments)}function ag(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ug(t,e,n){return(ug=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sg:ag).apply(null,arguments)}function cg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function lg(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function hg(){this.s=this.s,this.o=this.o}var fg={};hg.prototype.s=!1,hg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,ig)&&t[ig]||(t[ig]=++og)}(this);delete fg[t]}},hg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},pg=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function gg(t){return Array.prototype.concat.apply([],arguments)}function mg(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function yg(t){return/^[\s\xa0]*$/.test(t)}var vg,bg=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function wg(t,e){return-1!=t.indexOf(e)}function _g(t,e){return t<e?-1:t>e?1:0}t:{var Sg=tg.navigator;if(Sg){var Eg=Sg.userAgent;if(Eg){vg=Eg;break t}}vg=""}function Tg(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ig(t){var e={};for(var n in t)e[n]=t[n];return e}var Cg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xg(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Cg.length;o++)n=Cg[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kg(t){return kg[" "](t),t}kg[" "]=eg;var Ag,Rg,Ng=wg(vg,"Opera"),Og=wg(vg,"Trident")||wg(vg,"MSIE"),Dg=wg(vg,"Edge"),Pg=Dg||Og,Lg=wg(vg,"Gecko")&&!(wg(vg.toLowerCase(),"webkit")&&!wg(vg,"Edge"))&&!(wg(vg,"Trident")||wg(vg,"MSIE"))&&!wg(vg,"Edge"),Fg=wg(vg.toLowerCase(),"webkit")&&!wg(vg,"Edge");function Mg(){var t=tg.document;return t?t.documentMode:void 0}t:{var jg="",Ug=(Rg=vg,Lg?/rv:([^\);]+)(\)|;)/.exec(Rg):Dg?/Edge\/([\d\.]+)/.exec(Rg):Og?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rg):Fg?/WebKit\/(\S+)/.exec(Rg):Ng?/(?:Version)[ \/]?(\S+)/.exec(Rg):void 0);if(Ug&&(jg=Ug?Ug[1]:""),Og){var Vg=Mg();if(null!=Vg&&Vg>parseFloat(jg)){Ag=String(Vg);break t}}Ag=jg}var qg={};var Bg=tg.document&&Og&&(Mg()||parseInt(Ag,10))||void 0,Hg=function(){if(!tg.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{tg.addEventListener("test",eg,e),tg.removeEventListener("test",eg,e)}catch(n){}return t}();function zg(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Gg(t,e){if(zg.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lg){t:{try{kg(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$g[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gg.Z.h.call(this)}}zg.prototype.h=function(){this.defaultPrevented=!0},lg(Gg,zg);var $g={2:"touch",3:"pen",4:"mouse"};Gg.prototype.h=function(){Gg.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kg="closure_listenable_"+(1e6*Math.random()|0),Wg=0;function Qg(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Wg,this.ca=this.fa=!1}function Yg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Xg(t){this.src=t,this.g={},this.h=0}function Zg(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=dg(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Yg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Jg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Xg.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Jg(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Qg(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var tm="closure_lm_"+(1e6*Math.random()|0),em={};function nm(t,e,n,r,i){if(r&&r.once)return im(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nm(t,e[o],n,r,i);return null}return n=hm(n),t&&t[Kg]?t.N(e,n,rg(r)?!!r.capture:!!r,i):rm(t,e,n,!1,r,i)}function rm(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rg(i)?!!i.capture:!!i,a=cm(t);if(a||(t[tm]=a=new Xg(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=um;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Hg||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(am(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function im(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)im(t,e[o],n,r,i);return null}return n=hm(n),t&&t[Kg]?t.O(e,n,rg(r)?!!r.capture:!!r,i):rm(t,e,n,!0,r,i)}function om(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)om(t,e[o],n,r,i);else r=rg(r)?!!r.capture:!!r,n=hm(n),t&&t[Kg]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Jg(o=t.g[e],n,r,i))&&(Yg(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=cm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jg(e,n,r,i)),(n=-1<t?e[t]:null)&&sm(n))}function sm(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Kg])Zg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(am(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cm(e))?(Zg(n,t),0==n.h&&(n.src=null,e[tm]=null)):Yg(t)}}}function am(t){return t in em?em[t]:em[t]="on"+t}function um(t,e){if(t.ca)t=!0;else{e=new Gg(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&sm(t),t=n.call(r,e)}return t}function cm(t){return(t=t[tm])instanceof Xg?t:null}var lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function hm(t){return"function"==typeof t?t:(t[lm]||(t[lm]=function(e){return t.handleEvent(e)}),t[lm])}function fm(){hg.call(this),this.i=new Xg(this),this.P=this,this.I=null}function dm(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new zg(e,t);else if(e instanceof zg)e.target=e.target||t;else{var i=e;xg(e=new zg(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=pm(s,r,!0,e)&&i}if(i=pm(s=e.g=t,r,!0,e)&&i,i=pm(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=pm(s=e.g=n[o],r,!1,e)&&i}function pm(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Zg(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}lg(fm,hg),fm.prototype[Kg]=!0,fm.prototype.removeEventListener=function(t,e,n,r){om(this,t,e,n,r)},fm.prototype.M=function(){if(fm.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Yg(n[r]);delete e.g[t],e.h--}}this.I=null},fm.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},fm.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var gm=tg.JSON.stringify;function mm(){var t=Tm,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ym,vm=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=bm.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),bm=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new wm},function(t){return t.reset()}),wm=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function _m(t){tg.setTimeout(function(){throw t},0)}function Sm(t,e){ym||function(){var t=tg.Promise.resolve(void 0);ym=function(){t.then(Im)}}(),Em||(ym(),Em=!0),Tm.add(t,e)}var Em=!1,Tm=new vm;function Im(){for(var t;t=mm();){try{t.h.call(t.g)}catch(n){_m(n)}var e=bm;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Em=!1}function Cm(t,e){fm.call(this),this.h=t||1,this.g=e||tg,this.j=ug(this.kb,this),this.l=Date.now()}function xm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function km(t,e,n){if("function"==typeof t)n&&(t=ug(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ug(t.handleEvent,t)}return 2147483647<Number(e)?-1:tg.setTimeout(t,e||0)}function Am(t){t.g=km(function(){t.g=null,t.i&&(t.i=!1,Am(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}lg(Cm,fm),(Xp=Cm.prototype).da=!1,Xp.S=null,Xp.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dm(this,"tick"),this.da&&(xm(this),this.start()))}},Xp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xp.M=function(){Cm.Z.M.call(this),xm(this),delete this.g};var Rm=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Qp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Am(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(tg.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(hg);function Nm(t){hg.call(this),this.h=t,this.g={}}lg(Nm,hg);var Om=[];function Dm(t,e,n,r){Array.isArray(n)||(n&&(Om[0]=n.toString()),n=Om);for(var i=0;i<n.length;i++){var o=nm(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Pm(t){Tg(t.g,function(t,e){this.g.hasOwnProperty(e)&&sm(t)},t),t.g={}}function Lm(){this.g=!0}function Fm(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return gm(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Nm.prototype.M=function(){Nm.Z.M.call(this),Pm(this)},Nm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lm.prototype.Aa=function(){this.g=!1},Lm.prototype.info=function(){};var Mm={},jm=null;function Um(){return jm=jm||new fm}function Vm(t){zg.call(this,Mm.Ma,t)}function qm(t){var e=Um();dm(e,new Vm(e,t))}function Bm(t,e){zg.call(this,Mm.STAT_EVENT,t),this.stat=e}function Hm(t){var e=Um();dm(e,new Bm(e,t))}function zm(t,e){zg.call(this,Mm.Na,t),this.size=e}function Gm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return tg.setTimeout(function(){t()},e)}Mm.Ma="serverreachability",lg(Vm,zg),Mm.STAT_EVENT="statevent",lg(Bm,zg),Mm.Na="timingevent",lg(zm,zg);var $m={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Km={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wm(){}function Qm(){}Wm.prototype.h=null;var Ym,Xm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zm(){zg.call(this,"d")}function Jm(){zg.call(this,"c")}function ty(){}function ey(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Nm(this),this.P=ry,this.W=new Cm(t=Pg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ny}function ny(){this.i=null,this.g="",this.h=!1}lg(Zm,zg),lg(Jm,zg),lg(ty,Wm),ty.prototype.g=function(){return new XMLHttpRequest},ty.prototype.i=function(){return{}},Ym=new ty;var ry=45e3,iy={},oy={};function sy(t,e,n){t.K=1,t.v=Ay(Ey(e)),t.s=n,t.U=!0,ay(t,null)}function ay(t,e){t.F=Date.now(),hy(t),t.A=Ey(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),By(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ny,t.g=Hv(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Rm(ug(t.Ia,t,t.g),t.O)),Dm(t.V,t.g,"readystatechange",t.gb),e=t.H?Ig(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),qm(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function uy(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function cy(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=ly(t,n))==oy){4==e&&(t.o=4,Hm(14),i=!1),Fm(t.j,t.m,null,"[Incomplete Response]");break}if(r==iy){t.o=4,Hm(15),Fm(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Fm(t.j,t.m,r,null),my(t,r)}uy(t)&&r!=oy&&r!=iy&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Hm(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lv(e),e.L=!0,Hm(11))):(Fm(t.j,t.m,n,"[Invalid Chunked Response]"),gy(t),py(t))}function ly(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?oy:(n=Number(e.substring(n,r)),isNaN(n)?iy:(r+=1)+n>e.length?oy:(e=e.substr(r,n),t.C=r+n,e))}function hy(t){t.Y=Date.now()+t.P,fy(t,t.P)}function fy(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Gm(ug(t.eb,t),e)}function dy(t){t.B&&(tg.clearTimeout(t.B),t.B=null)}function py(t){0==t.l.G||t.I||jv(t.l,t)}function gy(t){dy(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,xm(t.W),Pm(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function my(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Qy(n.i,t)))if(n.I=t.N,!t.J&&Qy(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Mv(n),Cv(n)}Pv(n),Hm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Gm(ug(n.ab,n),6e3));if(1>=Wy(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Vv(n,11)}else if((t.J||n.g==t)&&Mv(n),!yg(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(wg(l,"spdy")||wg(l,"quic")||wg(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Yy(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,ky(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Bv(r,r.H?r.la:null,r.W),d.J){Xy(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(dy(p),hy(p)),r.g=d}else Dv(r);0<n.l.length&&Av(n)}else"stop"!=o[0]&&"close"!=o[0]||Vv(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Vv(n,7):Iv(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}qm(4)}catch(o){}}function yy(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ng(t)||"string"==typeof t)pg(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(ng(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(ng(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function vy(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof vy)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function by(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];wy(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)wy(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function wy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Xp=ey.prototype).setTimeout=function(t){this.P=t},Xp.gb=function(t){t=t.target;var e=this.L;e&&3==wv(t)?e.l():this.Ia(t)},Xp.Ia=function(t){try{if(t==this.g)t:{var e=wv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Pg||this.g&&(this.h.h||this.g.ga()||_v(this.g)))){this.I||4!=e||7==n||qm(8==n||0>=r?3:2),dy(this);var i=this.g.ba();this.N=i;e:if(uy(this)){var o=_v(this.g);t="";var s=o.length,a=4==wv(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gy(this),py(this);var u="";break e}this.h.i=new tg.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yg(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Hm(12),gy(this),py(this);break t}Fm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,my(this,i)}this.U?(cy(this,e,u),Pg&&this.i&&3==e&&(Dm(this.V,this.W,"tick",this.fb),this.W.start())):(Fm(this.j,this.m,u,null),my(this,u)),4==e&&gy(this),this.i&&!this.I&&(4==e?jv(this.l,this):(this.i=!1,hy(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Hm(12)):(this.o=0,Hm(13)),gy(this),py(this)}}}catch(e){}},Xp.fb=function(){if(this.g){var t=wv(this.g),e=this.g.ga();this.C<e.length&&(dy(this),cy(this,t,e),this.i&&4!=t&&hy(this))}},Xp.cancel=function(){this.I=!0,gy(this)},Xp.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(qm(3),Hm(17)),gy(this),this.o=2,py(this)):fy(this,this.Y-t)},(Xp=vy.prototype).R=function(){by(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Xp.T=function(){return by(this),this.g.concat()},Xp.get=function(t,e){return wy(this.h,t)?this.h[t]:e},Xp.set=function(t,e){wy(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Xp.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var _y=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sy(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Sy){this.g=void 0!==e?e:t.g,Ty(this,t.j),this.s=t.s,Iy(this,t.i),Cy(this,t.m),this.l=t.l,e=t.h;var n=new jy;n.i=e.i,e.g&&(n.g=new vy(e.g),n.h=e.h),xy(this,n),this.o=t.o}else t&&(n=String(t).match(_y))?(this.g=!!e,Ty(this,n[1]||"",!0),this.s=Ry(n[2]||""),Iy(this,n[3]||"",!0),Cy(this,n[4]),this.l=Ry(n[5]||"",!0),xy(this,n[6]||"",!0),this.o=Ry(n[7]||"")):(this.g=!!e,this.h=new jy(null,this.g))}function Ey(t){return new Sy(t)}function Ty(t,e,n){t.j=n?Ry(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Iy(t,e,n){t.i=n?Ry(e,!0):e}function Cy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xy(t,e,n){e instanceof jy?(t.h=e,function(t,e){e&&!t.j&&(Uy(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Vy(this,e),By(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Ny(e,Fy)),t.h=new jy(e,t.g))}function ky(t,e,n){t.h.set(e,n)}function Ay(t){return ky(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ry(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ny(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Oy),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Oy(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sy.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ny(e,Dy,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ny(e,Dy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ny(n,"/"==n.charAt(0)?Ly:Py,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ny(n,My)),t.join("")};var Dy=/[#\/\?@]/g,Py=/[#\?:]/g,Ly=/[#\?]/g,Fy=/[#\?@]/g,My=/#/g;function jy(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Uy(t){t.g||(t.g=new vy,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vy(t,e){Uy(t),e=Hy(t,e),wy(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,wy((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&by(t)))}function qy(t,e){return Uy(t),e=Hy(t,e),wy(t.g.h,e)}function By(t,e,n){Vy(t,e),0<n.length&&(t.i=null,t.g.set(Hy(t,e),mg(n)),t.h+=n.length)}function Hy(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Xp=jy.prototype).add=function(t,e){Uy(this),this.i=null,t=Hy(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Xp.forEach=function(t,e){Uy(this),this.g.forEach(function(n,r){pg(n,function(n){t.call(e,n,r,this)},this)},this)},Xp.T=function(){Uy(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Xp.R=function(t){Uy(this);var e=[];if("string"==typeof t)qy(this,t)&&(e=gg(e,this.g.get(Hy(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=gg(e,t[n])}return e},Xp.set=function(t,e){return Uy(this),this.i=null,qy(this,t=Hy(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Xp.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Xp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var zy=function(t,e){this.h=t,this.g=e};function Gy(t){this.l=t||$y,t=tg.PerformanceNavigationTiming?0<(t=tg.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(tg.g&&tg.g.Ea&&tg.g.Ea()&&tg.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $y=10;function Ky(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Wy(t){return t.h?1:t.g?t.g.size:0}function Qy(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Yy(t,e){t.g?t.g.add(e):t.h=e}function Xy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Zy(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Yp(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return mg(t.i)}function Jy(){}function tv(){this.g=new Jy}function ev(t,e,n){var r=n||"";try{yy(t,function(t,n){var i=t;rg(t)&&(i=gm(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(uA){throw e.push(r+"type="+encodeURIComponent("_badmap")),uA}}function nv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function rv(t){this.l=t.$b||null,this.j=t.ib||!1}function iv(t,e){fm.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ov,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gy.prototype.cancel=function(){var t,e;if(this.i=Zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Yp(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Jy.prototype.stringify=function(t){return tg.JSON.stringify(t,void 0)},Jy.prototype.parse=function(t){return tg.JSON.parse(t,void 0)},lg(rv,Wm),rv.prototype.g=function(){return new iv(this.l,this.j)},rv.prototype.i=function(t){return function(){return t}}({}),lg(iv,fm);var ov=0;function sv(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function av(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uv(t)}function uv(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Xp=iv.prototype).open=function(t,e){if(this.readyState!=ov)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uv(this)},Xp.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||tg).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Xp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,av(this)),this.readyState=ov},Xp.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uv(this)),this.g&&(this.readyState=3,uv(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==tg.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sv(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Xp.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?av(this):uv(this),3==this.readyState&&sv(this)}},Xp.Ua=function(t){this.g&&(this.response=this.responseText=t,av(this))},Xp.Ta=function(t){this.g&&(this.response=t,av(this))},Xp.ha=function(){this.g&&av(this)},Xp.setRequestHeader=function(t,e){this.v.append(t,e)},Xp.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Xp.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(iv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cv=tg.JSON.parse;function lv(t){fm.call(this),this.headers=new vy,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hv,this.K=this.L=!1}lg(lv,fm);var hv="",fv=/^https?$/i,dv=["POST","PUT"];function pv(t){return"content-type"==t.toLowerCase()}function gv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mv(t),vv(t)}function mv(t){t.D||(t.D=!0,dm(t,"complete"),dm(t,"error"))}function yv(t){if(t.h&&void 0!==Jp&&(!t.C[1]||4!=wv(t)||2!=t.ba()))if(t.v&&4==wv(t))km(t.Fa,0,t);else if(dm(t,"readystatechange"),4==wv(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(_y)[1]||null;if(!o&&tg.self&&tg.self.location){var s=tg.self.location.protocol;o=s.substr(0,s.length-1)}i=!fv.test(o?o.toLowerCase():"")}e=i}if(e)dm(t,"complete"),dm(t,"success");else{t.m=6;try{var a=2<wv(t)?t.g.statusText:""}catch(Io){a=""}t.j=a+" ["+t.ba()+"]",mv(t)}}finally{vv(t)}}}function vv(t,e){if(t.g){bv(t);var n=t.g,r=t.C[0]?eg:null;t.g=null,t.C=null,e||dm(t,"ready");try{n.onreadystatechange=r}catch(uA){}}}function bv(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(tg.clearTimeout(t.A),t.A=null)}function wv(t){return t.g?t.g.readyState:0}function _v(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case hv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Sv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Tg(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ky(t,e,n))}function Ev(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tv(t){this.za=0,this.l=[],this.h=new Lm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ev("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ev("baseRetryDelayMs",5e3,t),this.$a=Ev("retryDelaySeedMs",1e4,t),this.Ya=Ev("forwardChannelMaxRetries",2,t),this.ra=Ev("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Gy(t&&t.concurrentRequestLimit),this.Ca=new tv,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Iv(t){if(xv(t),3==t.G){var e=t.V++,n=Ey(t.F);ky(n,"SID",t.J),ky(n,"RID",e),ky(n,"TYPE","terminate"),Nv(t,n),(e=new ey(t,t.h,e,void 0)).K=2,e.v=Ay(Ey(n)),n=!1,tg.navigator&&tg.navigator.sendBeacon&&(n=tg.navigator.sendBeacon(e.v.toString(),"")),!n&&tg.Image&&((new Image).src=e.v,n=!0),n||(e.g=Hv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hy(e)}qv(t)}function Cv(t){t.g&&(Lv(t),t.g.cancel(),t.g=null)}function xv(t){Cv(t),t.u&&(tg.clearTimeout(t.u),t.u=null),Mv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&tg.clearTimeout(t.m),t.m=null)}function kv(t,e){t.l.push(new zy(t.Za++,e)),3==t.G&&Av(t)}function Av(t){Ky(t.i)||t.m||(t.m=!0,Sm(t.Ha,t),t.C=0)}function Rv(t,e){var n;n=e?e.m:t.V++;var r=Ey(t.F);ky(r,"SID",t.J),ky(r,"RID",n),ky(r,"AID",t.U),Nv(t,r),t.o&&t.s&&Sv(r,t.o,t.s),n=new ey(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Ov(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Yy(t.i,n),sy(n,r,e)}function Nv(t,e){t.j&&yy({},function(t,n){ky(e,n,t)})}function Ov(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ug(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{ev(l,s,"req"+c+"_")}catch(Sb){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Dv(t){t.g||t.u||(t.Y=1,Sm(t.Ga,t),t.A=0)}function Pv(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Gm(ug(t.Ga,t),Uv(t,t.A)),t.A++,0))}function Lv(t){null!=t.B&&(tg.clearTimeout(t.B),t.B=null)}function Fv(t){t.g=new ey(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ey(t.oa);ky(e,"RID","rpc"),ky(e,"SID",t.J),ky(e,"CI",t.N?"0":"1"),ky(e,"AID",t.U),Nv(t,e),ky(e,"TYPE","xmlhttp"),t.o&&t.s&&Sv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ay(Ey(e)),n.s=null,n.U=!0,ay(n,t)}function Mv(t){null!=t.v&&(tg.clearTimeout(t.v),t.v=null)}function jv(t,e){var n=null;if(t.g==e){Mv(t),Lv(t),t.g=null;var r=2}else{if(!Qy(t.i,e))return;n=e.D,Xy(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;dm(r=Um(),new zm(r,n,e,i)),Av(t)}else Dv(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Wy(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Gm(ug(t.Ha,t,e),Uv(t,t.C)),t.C++,0)))}(t,e)||2==r&&Pv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vv(t,5);break;case 4:Vv(t,10);break;case 3:Vv(t,6);break;default:Vv(t,2)}}function Uv(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Vv(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=ug(t.jb,t);n||(n=new Sy("//www.google.com/images/cleardot.gif"),tg.location&&"http"==tg.location.protocol||Ty(n,"https"),Ay(n)),function(t,e){var n=new Lm;if(tg.Image){var r=new Image;r.onload=cg(nv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cg(nv,n,r,"TestLoadImage: error",!1,e),r.onabort=cg(nv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cg(nv,n,r,"TestLoadImage: timeout",!1,e),tg.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Hm(2);t.G=0,t.j&&t.j.va(e),qv(t),xv(t)}function qv(t){t.G=0,t.I=-1,t.j&&(0==Zy(t.i).length&&0==t.l.length||(t.i.i.length=0,mg(t.l),t.l.length=0),t.j.ua())}function Bv(t,e,n){var r=function(t){return t instanceof Sy?Ey(t):new Sy(t,void 0)}(n);if(""!=r.i)e&&Iy(r,e+"."+r.i),Cy(r,r.m);else{var i=tg.location;r=function(t,e,n,r){var i=new Sy(null,void 0);return t&&Ty(i,t),e&&Iy(i,e),n&&Cy(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Tg(t.aa,function(t,e){ky(r,e,t)}),n=t.sa,(e=t.D)&&n&&ky(r,e,n),ky(r,"VER",t.ma),Nv(t,r),r}function Hv(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lv(n&&t.Ba&&!t.qa?new rv({ib:!0}):t.qa)).L=t.H,e}function zv(){}function Gv(){if(Og&&!(10<=Number(Bg)))throw Error("Environmental error: no available transport.")}function $v(t,e){fm.call(this),this.g=new Tv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!yg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yg(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qv(this)}function Kv(t){Zm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Wv(){Jm.call(this),this.status=1}function Qv(t){this.g=t}(Xp=lv.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ym.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ym),this.g.onreadystatechange=ug(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void gv(this,o)}t=n||"";var i=new vy(this.headers);r&&yy(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=pv,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=tg.FormData&&t instanceof tg.FormData,!(0<=dg(dv,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bv(this),0<this.B&&((this.K=function(t){return Og&&function(){return t=qg,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=bg(String(Ag)).split("."),n=bg("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=_g(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||_g(0==o[2].length,0==s[2].length)||_g(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ug(this.pa,this)):this.A=km(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gv(this,o)}},Xp.pa=function(){void 0!==Jp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dm(this,"timeout"),this.abort(8))},Xp.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,dm(this,"complete"),dm(this,"abort"),vv(this))},Xp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vv(this,!0)),lv.Z.M.call(this)},Xp.Fa=function(){this.s||(this.F||this.v||this.l?yv(this):this.cb())},Xp.cb=function(){yv(this)},Xp.ba=function(){try{return 2<wv(this)?this.g.status:-1}catch(Rg){return-1}},Xp.ga=function(){try{return this.g?this.g.responseText:""}catch(Rg){return""}},Xp.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cv(e)}},Xp.Da=function(){return this.m},Xp.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xp=Tv.prototype).ma=8,Xp.G=1,Xp.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Xp.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ey(this,this.h,t,void 0),n=this.s;if(this.P&&(n?xg(n=Ig(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Ov(this,e,r),ky(i=Ey(this.F),"RID",t),ky(i,"CVER",22),this.D&&ky(i,"X-HTTP-Session-Id",this.D),Nv(this,i),this.o&&n&&Sv(i,this.o,n),Yy(this.i,e),this.Ra&&ky(i,"TYPE","init"),this.ja?(ky(i,"$req",r),ky(i,"SID","null"),e.$=!0,sy(e,i,null)):sy(e,i,r),this.G=2}}else 3==this.G&&(t?Rv(this,t):0==this.l.length||Ky(this.i)||Rv(this))},Xp.Ga=function(){if(this.u=null,Fv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Gm(ug(this.bb,this),t)}},Xp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hm(10),Cv(this),Fv(this))},Xp.ab=function(){null!=this.v&&(this.v=null,Cv(this),Pv(this),Hm(19))},Xp.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Hm(2)):(this.h.info("Failed to ping google.com"),Hm(1))},(Xp=zv.prototype).xa=function(){},Xp.wa=function(){},Xp.va=function(){},Xp.ua=function(){},Xp.Oa=function(){},Gv.prototype.g=function(t,e){return new $v(t,e)},lg($v,fm),$v.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Sm(ug(t.hb,t,e))),Hm(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Bv(t,null,t.W),Av(t)},$v.prototype.close=function(){Iv(this.g)},$v.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,kv(this.g,e)}else this.v?((e={}).__data__=gm(t),kv(this.g,e)):kv(this.g,t)},$v.prototype.M=function(){this.g.j=null,delete this.j,Iv(this.g),delete this.g,$v.Z.M.call(this)},lg(Kv,Zm),lg(Wv,Jm),lg(Qv,zv),Qv.prototype.xa=function(){dm(this.g,"a")},Qv.prototype.wa=function(t){dm(this.g,new Kv(t))},Qv.prototype.va=function(t){dm(this.g,new Wv(t))},Qv.prototype.ua=function(){dm(this.g,"b")},Gv.prototype.createWebChannel=Gv.prototype.g,$v.prototype.send=$v.prototype.u,$v.prototype.open=$v.prototype.m,$v.prototype.close=$v.prototype.close,$m.NO_ERROR=0,$m.TIMEOUT=8,$m.HTTP_ERROR=6,Km.COMPLETE="complete",Qm.EventType=Xm,Xm.OPEN="a",Xm.CLOSE="b",Xm.ERROR="c",Xm.MESSAGE="d",fm.prototype.listen=fm.prototype.N,lv.prototype.listenOnce=lv.prototype.O,lv.prototype.getLastError=lv.prototype.La,lv.prototype.getLastErrorCode=lv.prototype.Da,lv.prototype.getStatus=lv.prototype.ba,lv.prototype.getResponseJson=lv.prototype.Qa,lv.prototype.getResponseText=lv.prototype.ga,lv.prototype.send=lv.prototype.ea;var Yv=$m,Xv=Km,Zv=Mm,Jv=rv,tb=Qm,eb=lv,nb=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();nb.o=-1;var rb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ib=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Zd(e,t),e}(Error),ob=new Op("@firebase/firestore");function sb(){return ob.logLevel}function ab(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ob.logLevel<=xp.DEBUG){var r=e.map(lb);ob.debug.apply(ob,ip(["Firestore (8.8.0): "+t],r))}}function ub(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ob.logLevel<=xp.ERROR){var r=e.map(lb);ob.error.apply(ob,ip(["Firestore (8.8.0): "+t],r))}}function cb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ob.logLevel<=xp.WARN){var r=e.map(lb);ob.warn.apply(ob,ip(["Firestore (8.8.0): "+t],r))}}function lb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(uA){return t}}function hb(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.0) INTERNAL ASSERTION FAILED: "+t;throw ub(e),new Error(e)}function fb(t,e){t||hb()}function db(t,e){return t}function pb(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gb=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=pb(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function mb(t,e){return t<e?-1:t>e?1:0}function yb(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function vb(t){return t+"\0"}var bb=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ib(rb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ib(rb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ib(rb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ib(rb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?mb(this.nanoseconds,t.nanoseconds):mb(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),wb=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new bb(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function _b(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Eb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Tb=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&hb(),void 0===n?n=t.length-e:n>t.length-e&&hb(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ib(rb.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Tb),Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Cb.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ib(rb.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ib(rb.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ib(rb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ib(rb.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Tb),kb=function(){function t(t){this.fields=t,t.sort(xb.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return yb(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Ab=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return mb(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Ab.EMPTY_BYTE_STRING=new Ab("");var Rb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nb(t){if(fb(!!t),"string"==typeof t){var e=0,n=Rb.exec(t);if(fb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ob(t.seconds),nanos:Ob(t.nanos)}}function Ob(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Db(t){return"string"==typeof t?Ab.fromBase64String(t):Ab.fromUint8Array(t)}function Pb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Lb(t){var e=t.mapValue.fields.__previous_value__;return Pb(e)?Lb(e):e}function Fb(t){var e=Nb(t.mapValue.fields.__local_write_time__.timestampValue);return new bb(e.seconds,e.nanos)}function Mb(t){return null==t}function jb(t){return 0===t&&1/t==-1/0}function Ub(t){return"number"==typeof t&&Number.isInteger(t)&&!jb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Vb=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Ib.fromString(e))},t.fromName=function(e){return new t(Ib.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ib.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Ib.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Ib(e.slice()))},t}();function qb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pb(t)?4:10:hb()}function Bb(t,e){var n=qb(t);if(n!==qb(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fb(t).isEqual(Fb(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Nb(t.timestampValue),r=Nb(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Db(t.bytesValue).isEqual(Db(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ob(t.geoPointValue.latitude)===Ob(e.geoPointValue.latitude)&&Ob(t.geoPointValue.longitude)===Ob(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ob(t.integerValue)===Ob(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ob(t.doubleValue),r=Ob(e.doubleValue);return n===r?jb(n)===jb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return yb(t.arrayValue.values||[],e.arrayValue.values||[],Bb);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(_b(n)!==_b(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bb(n[i],r[i])))return!1;return!0}(t,e);default:return hb()}}function Hb(t,e){return void 0!==(t.values||[]).find(function(t){return Bb(t,e)})}function zb(t,e){var n=qb(t),r=qb(e);if(n!==r)return mb(n,r);switch(n){case 0:return 0;case 1:return mb(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ob(t.integerValue||t.doubleValue),r=Ob(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Gb(t.timestampValue,e.timestampValue);case 4:return Gb(Fb(t),Fb(e));case 5:return mb(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Db(t),r=Db(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=mb(n[i],r[i]);if(0!==o)return o}return mb(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=mb(Ob(t.latitude),Ob(e.latitude));return 0!==n?n:mb(Ob(t.longitude),Ob(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=zb(n[i],r[i]);if(o)return o}return mb(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=mb(r[s],o[s]);if(0!==a)return a;var u=zb(n[r[s]],i[o[s]]);if(0!==u)return u}return mb(r.length,o.length)}(t.mapValue,e.mapValue);default:throw hb()}}function Gb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mb(t,e);var n=Nb(t),r=Nb(e),i=mb(n.seconds,r.seconds);return 0!==i?i:mb(n.nanos,r.nanos)}function $b(t){return Kb(t)}function Kb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Nb(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Db(t.bytesValue).toBase64():"referenceValue"in t?Vb.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Kb(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Kb(t.fields[o])}return e+"}"}(t.mapValue):hb();var e}function Wb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Qb(t){return!!t&&"integerValue"in t}function Yb(t){return!!t&&"arrayValue"in t}function Xb(t){return!!t&&"nullValue"in t}function Zb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jb(t){return!!t&&"mapValue"in t}function tw(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Sb(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=tw(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tw(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ew=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Jb(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=tw(e)},t.prototype.setAll=function(t){var e=this,n=xb.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=tw(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Jb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Bb(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Jb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Sb(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(tw(this.value))},t}();function nw(t){var e=[];return Sb(t.fields,function(t,n){var r=new xb([t]);if(Jb(n)){var i=nw(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new kb(e)}var rw=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,wb.min(),ew.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ew.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ew.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ew.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ew.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),iw=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function ow(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new iw(t,e,n,r,i,o,s)}function sw(t){var e=db(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+$b(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Mb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bw(e.startAt)),e.endAt&&(n+="|ub:",n+=bw(e.endAt)),e.h=n}return e.h}function aw(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_w(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Bb(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ew(t.startAt,e.startAt)&&Ew(t.endAt,e.endAt)}function uw(t){return Vb.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Zd(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new lw(t,n,r):"array-contains"===n?new pw(t,r):"in"===n?new gw(t,r):"not-in"===n?new mw(t,r):"array-contains-any"===n?new yw(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new hw(t,n):new fw(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(zb(e,this.value)):null!==e&&qb(this.value)===qb(e)&&this.m(zb(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return hb()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Vb.fromName(r.referenceValue),i}return Zd(e,t),e.prototype.matches=function(t){var e=Vb.comparator(t.key,this.key);return this.m(e)},e}(cw),hw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=dw(0,n),r}return Zd(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(cw),fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=dw(0,n),r}return Zd(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(cw);function dw(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Vb.fromName(t.referenceValue)})}var pw=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Zd(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Yb(e)&&Hb(e.arrayValue,this.value)},e}(cw),gw=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Zd(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Hb(this.value.arrayValue,e)},e}(cw),mw=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Zd(e,t),e.prototype.matches=function(t){if(Hb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Hb(this.value.arrayValue,e)},e}(cw),yw=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Zd(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Yb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Hb(e.value.arrayValue,t)})},e}(cw),vw=function(t,e){this.position=t,this.before=e};function bw(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return $b(t)}).join(",")}var ww=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function _w(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Sw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Vb.comparator(Vb.fromName(s.referenceValue),n.key):zb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ew(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Bb(t.position[n],e.position[n]))return!1;return!0}var Tw=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Iw(t,e,n,r,i,o,s,a){return new Tw(t,e,n,r,i,o,s,a)}function Cw(t){return new Tw(t)}function xw(t){return!Mb(t.limit)&&"F"===t.limitType}function kw(t){return!Mb(t.limit)&&"L"===t.limitType}function Aw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Rw(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Nw(t){return null!==t.collectionGroup}function Ow(t){var e=db(t);if(null===e.p){e.p=[];var n=Rw(e),r=Aw(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ww(n)),e.p.push(new ww(xb.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ww(xb.keyField(),u))}}}return e.p}function Dw(t){var e=db(t);if(!e.T)if("F"===e.limitType)e.T=ow(e.path,e.collectionGroup,Ow(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ow(e);r<i.length;r++){var o=i[r];n.push(new ww(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new vw(e.endAt.position,!e.endAt.before):null,a=e.startAt?new vw(e.startAt.position,!e.startAt.before):null;e.T=ow(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Pw(t,e,n){return new Tw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lw(t,e){return aw(Dw(t),Dw(e))&&t.limitType===e.limitType}function Fw(t){return sw(Dw(t))+"|lt:"+t.limitType}function Mw(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+$b(e.value);var e}).join(", ")+"]"),Mb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bw(t.startAt)),t.endAt&&(e+=", endAt: "+bw(t.endAt)),"Target("+e+")"}(Dw(t))+"; limitType="+t.limitType+")"}function jw(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Vb.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Sw(t.startAt,Ow(t),e)||t.endAt&&Sw(t.endAt,Ow(t),e))}(t,e)}function Uw(t){return function(e,n){for(var r=!1,i=0,o=Ow(t);i<o.length;i++){var s=o[i],a=Vw(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Vw(t,e,n){var r=t.field.isKeyField()?Vb.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?zb(r,i):hb()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hb()}}function qw(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jb(e)?"-0":e}}function Bw(t){return{integerValue:""+t}}function Hw(t,e){return Ub(e)?Bw(e):qw(t,e)}var zw=function(){this._=void 0};function Gw(t,e,n){return t instanceof Ww?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Qw?Yw(t,e):t instanceof Xw?Zw(t,e):function(t,e){var n=Kw(t,e),r=t_(n)+t_(t.A);return Qb(n)&&Qb(t.A)?Bw(r):qw(t.R,r)}(t,e)}function $w(t,e,n){return t instanceof Qw?Yw(t,e):t instanceof Xw?Zw(t,e):n}function Kw(t,e){return t instanceof Jw?Qb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e}(zw),Qw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Zd(e,t),e}(zw);function Yw(t,e){for(var n=e_(e),r=function(t){n.some(function(e){return Bb(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Xw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Zd(e,t),e}(zw);function Zw(t,e){for(var n=e_(e),r=function(t){n=n.filter(function(e){return!Bb(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Jw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Zd(e,t),e}(zw);function t_(t){return Ob(t.integerValue||t.doubleValue)}function e_(t){return Yb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var n_=function(t,e){this.field=t,this.transform=e},r_=function(t,e){this.version=t,this.transformResults=e},i_=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function o_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var s_=function(){};function a_(t,e,n){t instanceof f_?function(t,e,n){var r=t.value.clone(),i=g_(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof d_?function(t,e,n){if(o_(t.precondition,e)){var r=g_(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(p_(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function u_(t,e,n){t instanceof f_?function(t,e,n){if(o_(t.precondition,e)){var r=t.value.clone(),i=m_(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(h_(e),r).setHasLocalMutations()}}(t,e,n):t instanceof d_?function(t,e,n){if(o_(t.precondition,e)){var r=m_(t.fieldTransforms,n,e),i=e.data;i.setAll(p_(t)),i.setAll(r),e.convertToFoundDocument(h_(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){o_(t.precondition,e)&&e.convertToNoDocument(wb.min())}(t,e)}function c_(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Kw(o.transform,s||null);null!=a&&(null==n&&(n=ew.empty()),n.set(o.field,a))}return n||null}function l_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&yb(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Qw&&e instanceof Qw||t instanceof Xw&&e instanceof Xw?yb(t.elements,e.elements,Bb):t instanceof Jw&&e instanceof Jw?Bb(t.A,e.A):t instanceof Ww&&e instanceof Ww}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function h_(t){return t.isFoundDocument()?t.version:wb.min()}var f_=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Zd(e,t),e}(s_),d_=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Zd(e,t),e}(s_);function p_(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function g_(t,e,n){var r=new Map;fb(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$w(s,a,n[i]))}return r}function m_(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Gw(a,u,e))}return r}var y_,v_,b_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Zd(e,t),e}(s_),w_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Zd(e,t),e}(s_),__=function(t){this.count=t};function S_(t){switch(t){case rb.OK:return hb();case rb.CANCELLED:case rb.UNKNOWN:case rb.DEADLINE_EXCEEDED:case rb.RESOURCE_EXHAUSTED:case rb.INTERNAL:case rb.UNAVAILABLE:case rb.UNAUTHENTICATED:return!1;case rb.INVALID_ARGUMENT:case rb.NOT_FOUND:case rb.ALREADY_EXISTS:case rb.PERMISSION_DENIED:case rb.FAILED_PRECONDITION:case rb.ABORTED:case rb.OUT_OF_RANGE:case rb.UNIMPLEMENTED:case rb.DATA_LOSS:return!0;default:return hb()}}function E_(t){if(void 0===t)return ub("GRPC error has no .code"),rb.UNKNOWN;switch(t){case y_.OK:return rb.OK;case y_.CANCELLED:return rb.CANCELLED;case y_.UNKNOWN:return rb.UNKNOWN;case y_.DEADLINE_EXCEEDED:return rb.DEADLINE_EXCEEDED;case y_.RESOURCE_EXHAUSTED:return rb.RESOURCE_EXHAUSTED;case y_.INTERNAL:return rb.INTERNAL;case y_.UNAVAILABLE:return rb.UNAVAILABLE;case y_.UNAUTHENTICATED:return rb.UNAUTHENTICATED;case y_.INVALID_ARGUMENT:return rb.INVALID_ARGUMENT;case y_.NOT_FOUND:return rb.NOT_FOUND;case y_.ALREADY_EXISTS:return rb.ALREADY_EXISTS;case y_.PERMISSION_DENIED:return rb.PERMISSION_DENIED;case y_.FAILED_PRECONDITION:return rb.FAILED_PRECONDITION;case y_.ABORTED:return rb.ABORTED;case y_.OUT_OF_RANGE:return rb.OUT_OF_RANGE;case y_.UNIMPLEMENTED:return rb.UNIMPLEMENTED;case y_.DATA_LOSS:return rb.DATA_LOSS;default:return hb()}}(v_=y_||(y_={}))[v_.OK=0]="OK",v_[v_.CANCELLED=1]="CANCELLED",v_[v_.UNKNOWN=2]="UNKNOWN",v_[v_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",v_[v_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",v_[v_.NOT_FOUND=5]="NOT_FOUND",v_[v_.ALREADY_EXISTS=6]="ALREADY_EXISTS",v_[v_.PERMISSION_DENIED=7]="PERMISSION_DENIED",v_[v_.UNAUTHENTICATED=16]="UNAUTHENTICATED",v_[v_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",v_[v_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",v_[v_.ABORTED=10]="ABORTED",v_[v_.OUT_OF_RANGE=11]="OUT_OF_RANGE",v_[v_.UNIMPLEMENTED=12]="UNIMPLEMENTED",v_[v_.INTERNAL=13]="INTERNAL",v_[v_.UNAVAILABLE=14]="UNAVAILABLE",v_[v_.DATA_LOSS=15]="DATA_LOSS";var T_=function(){function t(t,e){this.comparator=t,this.root=e||C_.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,C_.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,C_.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new I_(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new I_(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new I_(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new I_(this.root,t,this.comparator,!0)},t}(),I_=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),C_=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw hb();if(this.right.isRed())throw hb();var t=this.left.check();if(t!==this.right.check())throw hb();return t+(this.isRed()?0:1)},t}();C_.EMPTY=null,C_.RED=!0,C_.BLACK=!1,C_.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw hb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw hb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw hb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw hb()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw hb()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new C_(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var x_=function(){function t(t){this.comparator=t,this.data=new T_(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new k_(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new k_(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),k_=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),A_=new T_(Vb.comparator);function R_(){return A_}var N_=new T_(Vb.comparator);function O_(){return N_}var D_=new T_(Vb.comparator);function P_(){return D_}var L_=new x_(Vb.comparator);function F_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=L_,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var M_=new x_(mb);function j_(){return M_}var U_=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,V_.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(wb.min(),r,j_(),R_(),F_())},t}(),V_=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Ab.EMPTY_BYTE_STRING,n,F_(),F_(),F_())},t}(),q_=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},B_=function(t,e){this.targetId=t,this.V=e},H_=function(t,e,n,r){void 0===n&&(n=Ab.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},z_=function(){function t(){this.S=0,this.D=K_(),this.C=Ab.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=F_(),e=F_(),n=F_();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:hb()}}),new V_(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=K_()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),G_=function(){function t(t){this.W=t,this.G=new Map,this.H=R_(),this.J=$_(),this.Y=new x_(mb)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:hb()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(uw(i))if(0===n){var o=new Vb(i.path);this.tt(e,o,rw.newNoDocument(o,wb.min()))}else fb(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&uw(o.target)){var s=new Vb(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,rw.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=F_();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new U_(t,n,this.Y,this.H,r);return this.H=R_(),this.J=$_(),this.Y=new x_(mb),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new z_,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new x_(mb),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ab("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new z_),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function $_(){return new T_(Vb.comparator)}function K_(){return new T_(Vb.comparator)}var W_={asc:"ASCENDING",desc:"DESCENDING"},Q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y_=function(t,e){this.databaseId=t,this.I=e};function X_(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z_(t,e){return t.I?e.toBase64():e.toUint8Array()}function J_(t,e){return X_(t,e.toTimestamp())}function tS(t){return fb(!!t),wb.fromTimestamp(function(t){var e=Nb(t);return new bb(e.seconds,e.nanos)}(t))}function eS(t,e){return function(t){return new Ib(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function nS(t){var e=Ib.fromString(t);return fb(CS(e)),e}function rS(t,e){return eS(t.databaseId,e.path)}function iS(t,e){var n=nS(e);if(n.get(1)!==t.databaseId.projectId)throw new ib(rb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ib(rb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Vb(uS(n))}function oS(t,e){return eS(t.databaseId,e)}function sS(t){var e=nS(t);return 4===e.length?Ib.emptyPath():uS(e)}function aS(t){return new Ib(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uS(t){return fb(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cS(t,e,n){return{name:rS(t,e),fields:n.value.mapValue.fields}}function lS(t,e,n){var r=iS(t,e.name),i=tS(e.updateTime),o=new ew({mapValue:{fields:e.fields}}),s=rw.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function hS(t,e){var n;if(e instanceof f_)n={update:cS(t,e.key,e.value)};else if(e instanceof b_)n={delete:rS(t,e.key)};else if(e instanceof d_)n={update:cS(t,e.key,e.data),updateMask:IS(e.fieldMask)};else{if(!(e instanceof w_))return hb();n={verify:rS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ww)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Xw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jw)return{fieldPath:e.field.canonicalString(),increment:n.A};throw hb()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:J_(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:hb()}(t,e.precondition)),n}function fS(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?i_.updateTime(tS(t.updateTime)):void 0!==t.exists?i_.exists(t.exists):i_.none()}(e.currentDocument):i_.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(fb("REQUEST_TIME"===e.setToServerValue),n=new Ww):"appendMissingElements"in e?n=new Qw(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xw(e.removeAllFromArray.values||[]):"increment"in e?n=new Jw(t,e.increment):hb();var r=xb.fromServerFormat(e.fieldPath);return new n_(r,n)}(t,e)}):[];if(e.update){var i=iS(t,e.update.name),o=new ew({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new kb((t.fieldPaths||[]).map(function(t){return xb.fromServerFormat(t)}))}(e.updateMask);return new d_(i,o,s,n,r)}return new f_(i,o,n,r)}if(e.delete){var a=iS(t,e.delete);return new b_(a,n)}if(e.verify){var u=iS(t,e.verify);return new w_(u,n)}return hb()}function dS(t,e){return{documents:[oS(t,e.path)]}}function pS(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oS(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oS(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Zb(t.value))return{unaryFilter:{field:_S(t.field),op:"IS_NAN"}};if(Xb(t.value))return{unaryFilter:{field:_S(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Zb(t.value))return{unaryFilter:{field:_S(t.field),op:"IS_NOT_NAN"}};if(Xb(t.value))return{unaryFilter:{field:_S(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_S(t.field),op:wS(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:_S(t.field),direction:bS(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Mb(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=yS(e.startAt)),e.endAt&&(n.structuredQuery.endAt=yS(e.endAt)),n}function gS(t){var e=sS(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){fb(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=mS(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ww(SS(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Mb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=vS(n.startAt));var l=null;return n.endAt&&(l=vS(n.endAt)),Iw(e,i,a,s,u,"F",c,l)}function mS(t){return t?void 0!==t.unaryFilter?[TS(t)]:void 0!==t.fieldFilter?[ES(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return mS(t)}).reduce(function(t,e){return t.concat(e)}):hb():[]}function yS(t){return{before:t.before,values:t.position}}function vS(t){return new vw(t.values||[],!!t.before)}function bS(t){return W_[t]}function wS(t){return Q_[t]}function _S(t){return{fieldPath:t.canonicalString()}}function SS(t){return xb.fromServerFormat(t.fieldPath)}function ES(t){return cw.create(SS(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return hb()}}(t.fieldFilter.op),t.fieldFilter.value)}function TS(t){switch(t.unaryFilter.op){case"IS_NAN":var e=SS(t.unaryFilter.field);return cw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=SS(t.unaryFilter.field);return cw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=SS(t.unaryFilter.field);return cw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=SS(t.unaryFilter.field);return cw.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return hb()}}function IS(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function CS(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function xS(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=AS(e)),e=kS(t.get(n),e);return AS(e)}function kS(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function AS(t){return t+"\x01\x01"}function RS(t){var e=t.length;if(fb(e>=2),2===e)return fb("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ib.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&hb(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:hb()}o=s+2}return new Ib(r)}var NS=function(t,e){this.seconds=t,this.nanoseconds=e},OS=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};OS.store="owner",OS.key="owner";var DS=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};DS.store="mutationQueues",DS.keyPath="userId";var PS=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};PS.store="mutations",PS.keyPath="batchId",PS.userMutationsIndex="userMutationsIndex",PS.userMutationsKeyPath=["userId","batchId"];var LS=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,xS(e)]},t.key=function(t,e,n){return[t,xS(e),n]},t}();LS.store="documentMutations",LS.PLACEHOLDER=new LS;var FS=function(t,e){this.path=t,this.readTime=e},MS=function(t,e){this.path=t,this.version=e},jS=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};jS.store="remoteDocuments",jS.readTimeIndex="readTimeIndex",jS.readTimeIndexPath="readTime",jS.collectionReadTimeIndex="collectionReadTimeIndex",jS.collectionReadTimeIndexPath=["parentPath","readTime"];var US=function(t){this.byteSize=t};US.store="remoteDocumentGlobal",US.key="remoteDocumentGlobalKey";var VS=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};VS.store="targets",VS.keyPath="targetId",VS.queryTargetsIndexName="queryTargetsIndex",VS.queryTargetsKeyPath=["canonicalId","targetId"];var qS=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qS.store="targetDocuments",qS.keyPath=["targetId","path"],qS.documentTargetsIndex="documentTargetsIndex",qS.documentTargetsKeyPath=["path","targetId"];var BS=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};BS.key="targetGlobalKey",BS.store="targetGlobal";var HS=function(t,e){this.collectionId=t,this.parent=e};HS.store="collectionParents",HS.keyPath=["collectionId","parent"];var zS=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};zS.store="clientMetadata",zS.keyPath="clientId";var GS=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};GS.store="bundles",GS.keyPath="bundleId";var $S=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};$S.store="namedQueries",$S.keyPath="name";var KS=ip(ip([],ip(ip([],ip(ip([],ip(ip([],[DS.store,PS.store,LS.store,jS.store,VS.store,OS.store,BS.store,qS.store]),[zS.store])),[US.store])),[HS.store])),[GS.store,$S.store]),WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",QS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),YS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},XS=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&hb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),ZS=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new YS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new eE(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=sE(e.target.error);n.ft.reject(new eE(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new eE(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ab("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rE(e)},t}(),JS=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(up())&&ub("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ab("SimpleDb","Removing database:",t),iE(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=up(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return tp(this,void 0,void 0,function(){var e,n=this;return ep(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ab("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new eE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ib(rb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new eE(t,n))},i.onupgradeneeded=function(t){ab("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ab("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o,s,a,u;return ep(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return ep(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=ZS.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),XS.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ab("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),tE=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return iE(this.Pt.delete())},t}(),eE=function(t){function e(e,n){var r=this;return(r=t.call(this,rb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Zd(e,t),e}(ib);function nE(t){return"IndexedDbTransactionError"===t.name}var rE=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ab("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ab("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),iE(n)},t.prototype.add=function(t){return ab("SimpleDb","ADD",this.store.name,t,t),iE(this.store.add(t))},t.prototype.get=function(t){var e=this;return iE(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ab("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ab("SimpleDb","DELETE",this.store.name,t),iE(this.store.delete(t))},t.prototype.count=function(){return ab("SimpleDb","COUNT",this.store.name),iE(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ab("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new XS(function(n,r){e.onerror=function(t){var e=sE(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new XS(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tE(i),s=e(i.primaryKey,i.value,o);if(s instanceof XS){var a=s.catch(function(t){return o.done(),XS.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return XS.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function iE(t){return new XS(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=sE(t.target.error);n(e)}})}var oE=!1;function sE(t){var e=JS._t(up());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ib("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return oE||(oE=!0,setTimeout(function(){throw r},0)),r}}return t}var aE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Zd(e,t),e}(QS);function uE(t,e){var n=db(t);return JS.It(n.Mt,e)}var cE=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&a_(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&u_(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&u_(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(wb.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},F_())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&yb(this.mutations,t.mutations,function(t,e){return l_(t,e)})&&yb(this.baseMutations,t.baseMutations,function(t,e){return l_(t,e)})},t}(),lE=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){fb(e.mutations.length===r.length);for(var i=P_(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),hE=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=wb.min()),void 0===o&&(o=wb.min()),void 0===s&&(s=Ab.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),fE=function(t){this.Lt=t};function dE(t,e){if(e.document)return lS(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Vb.fromSegments(e.noDocument.path),r=vE(e.noDocument.readTime),i=rw.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Vb.fromSegments(e.unknownDocument.path);return r=vE(e.unknownDocument.version),rw.newUnknownDocument(o,r)}return hb()}function pE(t,e,n){var r=gE(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:rS(t,e.key),fields:e.data.value.mapValue.fields,updateTime:X_(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new jS(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=yE(e.version);return s=e.hasCommittedMutations,new jS(null,new FS(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=yE(e.version);return new jS(new MS(c,l),null,null,!0,r,i)}return hb()}function gE(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mE(t){var e=new bb(t[0],t[1]);return wb.fromTimestamp(e)}function yE(t){var e=t.toTimestamp();return new NS(e.seconds,e.nanoseconds)}function vE(t){var e=new bb(t.seconds,t.nanoseconds);return wb.fromTimestamp(e)}function bE(t,e){for(var n=(e.baseMutations||[]).map(function(e){return fS(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return fS(t.Lt,e)}),o=bb.fromMillis(e.localWriteTimeMs);return new cE(e.batchId,o,n,i)}function wE(t){var e,n,r=vE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vE(t.lastLimboFreeSnapshotVersion):wb.min();return void 0!==t.query.documents?(fb(1===(n=t.query).documents.length),e=Dw(Cw(sS(n.documents[0])))):e=function(t){return Dw(gS(t))}(t.query),new hE(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ab.fromBase64String(t.resumeToken))}function _E(t,e){var n,r=yE(e.snapshotVersion),i=yE(e.lastLimboFreeSnapshotVersion);n=uw(e.target)?dS(t.Lt,e.target):pS(t.Lt,e.target);var o=e.resumeToken.toBase64();return new VS(e.targetId,sw(e.target),r,o,e.sequenceNumber,i,n)}function SE(t){var e=gS({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Pw(e,e.limit,"L"):e}var EE=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return TE(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:vE(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return TE(t).put({bundleId:(n=e).id,createTime:yE(tS(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return IE(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:SE(e.bundledQuery),readTime:vE(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return IE(t).put(function(t){return{name:t.name,readTime:yE(tS(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function TE(t){return uE(t,GS.store)}function IE(t){return uE(t,$S.store)}var CE=function(){function t(){this.Bt=new xE}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),XS.resolve()},t.prototype.getCollectionParents=function(t,e){return XS.resolve(this.Bt.getEntries(e))},t}(),xE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new x_(Ib.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new x_(Ib.comparator)).toArray()},t}(),kE=function(){function t(){this.qt=new xE}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:xS(i)};return AE(t).put(o)}return XS.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[vb(e),""],!1,!0);return AE(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(RS(o.parent))}return n})},t}();function AE(t){return uE(t,HS.store)}var RE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NE=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function OE(t,e,n){var r=t.store(PS.store),i=t.store(LS.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){fb(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=LS.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return XS.waitFor(o).next(function(){return c})}function DE(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw hb();e=t.noDocument}return JSON.stringify(e).length}NE.DEFAULT_COLLECTION_PERCENTILE=10,NE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,NE.DEFAULT=new NE(41943040,NE.DEFAULT_COLLECTION_PERCENTILE,NE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),NE.DISABLED=new NE(-1,0,0);var PE=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return fb(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return FE(t).$t({index:PS.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=ME(t),s=FE(t);return s.add({}).next(function(a){fb("number"==typeof a);for(var u=new cE(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return hS(t.Lt,e)}),i=n.mutations.map(function(e){return hS(t.Lt,e)});return new PS(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new x_(function(t,e){return mb(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=LS.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,LS.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),XS.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return FE(t).get(e).next(function(t){return t?(fb(t.userId===n.userId),bE(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?XS.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return FE(t).$t({index:PS.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(fb(e.batchId>=r),o=bE(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return FE(t).$t({index:PS.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return FE(t).Nt(PS.userMutationsIndex,n).next(function(t){return t.map(function(t){return bE(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=LS.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return ME(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=RS(r[1]);if(a===n.userId&&e.path.isEqual(c))return FE(t).get(u).next(function(t){if(!t)throw hb();fb(t.userId===n.userId),o.push(bE(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new x_(mb),i=[];return e.forEach(function(e){var o=LS.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=ME(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=RS(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),XS.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=LS.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new x_(mb);return ME(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=RS(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(FE(t).get(e).next(function(t){if(null===t)throw hb();fb(t.userId===n.userId),r.push(bE(n.R,t))}))}),XS.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return OE(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),XS.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return XS.resolve();var r=IDBKeyRange.lowerBound(LS.prefixForUser(e.userId)),i=[];return ME(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=RS(t[1]);i.push(o)}else r.done()}).next(function(){fb(0===i.length)})})},t.prototype.containsKey=function(t,e){return LE(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jE(t).get(this.userId).next(function(t){return t||new DS(e.userId,-1,"")})},t}();function LE(t,e,n){var r=LS.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ME(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function FE(t){return uE(t,PS.store)}function ME(t){return uE(t,LS.store)}function jE(t){return uE(t,DS.store)}var UE=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),VE=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new UE(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return wb.fromTimestamp(new bb(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return qE(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return fb(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return qE(t).$t(function(s,a){var u=wE(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return XS.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return qE(t).$t(function(t,n){var r=wE(n);e(r)})},t.prototype.Xt=function(t){return BE(t).get(BS.key).next(function(t){return fb(null!==t),t})},t.prototype.Zt=function(t,e){return BE(t).put(BS.key,e)},t.prototype.te=function(t,e){return qE(t).put(_E(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=sw(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return qE(t).$t({range:r,index:VS.queryTargetsIndexName},function(t,n,r){var o=wE(n);aw(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=HE(t);return e.forEach(function(e){var s=xS(e.path);i.push(o.put(new qS(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),XS.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=HE(t);return XS.forEach(e,function(e){var o=xS(e.path);return XS.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=HE(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=HE(t),i=F_();return r.$t({range:n,kt:!0},function(t,e,n){var r=RS(t[1]),o=new Vb(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=xS(e.path),r=IDBKeyRange.bound([n],[vb(n)],!1,!0),i=0;return HE(t).$t({index:qS.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return qE(t).get(e).next(function(t){return t?wE(t):null})},t}();function qE(t){return uE(t,VS.store)}function BE(t){return uE(t,BS.store)}function HE(t){return uE(t,qS.store)}function zE(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){if(t.code!==rb.FAILED_PRECONDITION||t.message!==WS)throw t;return ab("LocalStore","Unexpectedly lost primary lease"),[2]})})}function GE(t,e){var n=t[1],r=e[1],i=mb(t[0],e[0]);return 0===i?mb(n,r):i}var $E=function(){function t(t){this.ne=t,this.buffer=new x_(GE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();GE(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),KE=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ab("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return tp(e,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return nE(e=n.sent())?(ab("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,zE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),WE=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return XS.resolve(nb.o);var r=new $E(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; disabled"),XS.resolve(RE)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ab("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),RE):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ab("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),sb()<=xp.DEBUG&&ab("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),XS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),QE=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new WE(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return YE(t,n)},t.prototype.removeReference=function(t,e,n){return YE(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return YE(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return jE(t).Ot(function(r){return LE(t,r,e).next(function(t){return t&&(n=!0),XS.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),HE(t).delete([0,xS(s.path)])})});i.push(u)}}).next(function(){return XS.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return YE(t,e)},t.prototype.we=function(t,e){var n,r=HE(t),i=nb.o;return r.$t({index:qS.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==nb.o&&e(new Vb(RS(n)),i),i=s,n=o):i=nb.o}).next(function(){i!==nb.o&&e(new Vb(RS(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function YE(t,e){return HE(t).put(function(t,e){return new qS(0,xS(t.path),e)}(e,t.currentSequenceNumber))}var XE=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Sb(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Eb(this.inner)},t}(),ZE=function(){function t(){this.changes=new XE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:wb.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:rw.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?XS.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),JE=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return nT(t).put(rT(e),n)},t.prototype.removeEntry=function(t,e){var n=nT(t),r=rT(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return nT(t).get(rT(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return nT(t).get(rT(e)).next(function(t){return{document:n.ye(e,t),size:DE(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=R_();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=R_(),i=new T_(Vb.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,DE(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return XS.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return nT(t).$t({range:r},function(t,e,r){for(var s=Vb.fromSegments(t);o&&Vb.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=R_(),o=e.path.length+1,s={};if(n.isEqual(wb.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=gE(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=jS.collectionReadTimeIndex}return nT(t).$t(s,function(t,n,s){if(t.length===o){var a=dE(r.R,n);e.path.isPrefixOf(a.key.path)?jw(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new tT(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return eT(t).get(US.key).next(function(t){return fb(!!t),t})},t.prototype.me=function(t,e){return eT(t).put(US.key,e)},t.prototype.ye=function(t,e){if(e){var n=dE(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(wb.min()))return n}return rw.newInvalidDocument(t)},t}(),tT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new XE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Zd(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new x_(function(t,e){return mb(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=pE(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=DE(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=pE(e.Ie.R,rw.newNoDocument(o,wb.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),XS.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ZE);function eT(t){return uE(t,US.store)}function nT(t){return uE(t,jS.store)}function rT(t){return t.path.toArray()}var iT=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;fb(n<r&&n>=0&&r<=11);var o=new ZS("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(OS.store)}(t),function(t){t.createObjectStore(DS.store,{keyPath:DS.keyPath}),t.createObjectStore(PS.store,{keyPath:PS.keyPath,autoIncrement:!0}).createIndex(PS.userMutationsIndex,PS.userMutationsKeyPath,{unique:!0}),t.createObjectStore(LS.store)}(t),oT(t),function(t){t.createObjectStore(jS.store)}(t));var s=XS.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qS.store),t.deleteObjectStore(VS.store),t.deleteObjectStore(BS.store)}(t),oT(t)),s=s.next(function(){return function(t){var e=t.store(BS.store),n=new BS(0,0,wb.min().toTimestamp(),0);return e.put(BS.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(PS.store).Nt().next(function(n){t.deleteObjectStore(PS.store),t.createObjectStore(PS.store,{keyPath:PS.keyPath,autoIncrement:!0}).createIndex(PS.userMutationsIndex,PS.userMutationsKeyPath,{unique:!0});var r=e.store(PS.store),i=n.map(function(t){return r.put(t)});return XS.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(zS.store,{keyPath:zS.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(US.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jS.store);e.createIndex(jS.readTimeIndex,jS.readTimeIndexPath,{unique:!1}),e.createIndex(jS.collectionReadTimeIndex,jS.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(GS.store,{keyPath:GS.keyPath})}(t),function(t){t.createObjectStore($S.store,{keyPath:$S.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(jS.store).$t(function(t,n){e+=DE(n)}).next(function(){var n=new US(e);return t.store(US.store).put(US.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(DS.store),r=t.store(PS.store);return n.Nt().next(function(n){return XS.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(PS.userMutationsIndex,i).next(function(r){return XS.forEach(r,function(r){fb(r.userId===n.userId);var i=bE(e.R,r);return OE(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(qS.store),n=t.store(jS.store);return t.store(BS.store).get(BS.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new Ib(n),s=function(t){return[0,xS(t)]}(o);r.push(e.get(s).next(function(n){return n?XS.resolve():function(n){return e.put(new qS(0,xS(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return XS.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(HS.store,{keyPath:HS.keyPath});var n=e.store(HS.store),r=new xE,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:xS(i)})}};return e.store(jS.store).$t({kt:!0},function(t,e){var n=new Ib(t);return i(n.popLast())}).next(function(){return e.store(LS.store).$t({kt:!0},function(t,e){var n=RS(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(VS.store);return n.$t(function(t,r){var i=wE(r),o=_E(e.R,i);return n.put(o)})},t}();function oT(t){t.createObjectStore(qS.store,{keyPath:qS.keyPath}).createIndex(qS.documentTargetsIndex,qS.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(VS.store,{keyPath:VS.keyPath}).createIndex(VS.queryTargetsIndexName,VS.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(BS.store)}var sT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",aT=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new ib(rb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QE(this,i),this.Le=n+"main",this.R=new fE(u),this.Be=new JS(this.Le,11,new iT(this.R)),this.qe=new VE(this.referenceDelegate,this.R),this.Ut=new kE,this.Ue=function(t,e){return new JE(t,e)}(this.R,this.Ut),this.Ke=new EE,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&ub("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ib(rb.FAILED_PRECONDITION,sT);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new nb(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return tp(e,void 0,void 0,function(){return ep(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return tp(e,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return tp(e,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cT(e).put(new zS(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(nE(e))return ab("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ab("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return uT(t).get(OS.key).next(function(t){return XS.resolve(e.tn(t))})},t.prototype.en=function(t){return cT(t).delete(this.clientId)},t.prototype.nn=function(){return tp(this,void 0,void 0,function(){var t,e,n,r=this;return ep(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=uE(t,zS.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return XS.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?XS.resolve(!0):uT(t).get(OS.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new ib(rb.FAILED_PRECONDITION,sT);return!1}}return!(!e.networkEnabled||!e.inForeground)||cT(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ab("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return tp(this,void 0,void 0,function(){var t=this;return ep(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[OS.store,zS.store],function(e){var n=new aE(e,nb.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return cT(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return PE.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ab("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",KS,function(o){return r=new aE(o,i.Ne?i.Ne.next():nb.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ub("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new ib(rb.FAILED_PRECONDITION,WS);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return uT(t).get(OS.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ib(rb.FAILED_PRECONDITION,sT)})},t.prototype.Ze=function(t){var e=new OS(this.clientId,this.allowTabSynchronization,Date.now());return uT(t).put(OS.key,e)},t.yt=function(){return JS.yt()},t.prototype.Xe=function(t){var e=this,n=uT(t);return n.get(OS.key).next(function(t){return e.tn(t)?(ab("IndexedDbPersistence","Releasing primary lease."),n.delete(OS.key)):XS.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ub("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),!cp()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return ab("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ub("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ub("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function uT(t){return uE(t,OS.store)}function cT(t){return uE(t,zS.store)}function lT(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hT=function(t,e){this.progress=t,this.wn=e},fT=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Vb.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Nw(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Vb(e)).next(function(t){var e=O_();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=O_();return this.Ut.getCollectionParents(t,i).next(function(s){return XS.forEach(s,function(s){var a=function(t,e){return new Tw(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=rw.newInvalidDocument(c),r=r.insert(c,l)),u_(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){jw(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=F_(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof d_&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),dT=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=F_(),i=F_(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pT=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(wb.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(xw(e)||kw(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(sb()<=xp.DEBUG&&ab("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Mw(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new x_(Uw(t));return e.forEach(function(e,r){jw(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return sb()<=xp.DEBUG&&ab("QueryEngine","Using full collection scan to execute query:",Mw(e)),this.Sn.getDocumentsMatchingQuery(t,e,wb.min())},t}(),gT=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new T_(mb),this.kn=new XE(function(t){return sw(t)},aw),this.$n=wb.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new fT(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function mT(t,e,n,r){return new gT(t,e,n,r)}function yT(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o;return ep(this,function(s){switch(s.label){case 0:return n=db(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new fT(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=F_(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function vT(t,e){var n=db(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=XS.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);fb(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function bT(t){var e=db(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function wT(t,e){var n=db(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return fb(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=R_();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(_T(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(wb.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return XS.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function _T(t,e,n,r,i){var o=F_();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=R_();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(wb.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ab("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function ST(t,e){var n=db(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function ET(t,e){var n=db(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?XS.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new hE(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function TT(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s;return ep(this,function(a){switch(a.label){case 0:r=db(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!nE(s=a.sent()))throw s;return ab("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function IT(t,e,n){var r=db(t),i=wb.min(),o=F_();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=db(t),i=r.kn.get(n);return void 0!==i?XS.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Dw(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:wb.min(),n?o:F_())}).next(function(t){return{documents:t,Bn:o}})})}function CT(t,e){var n=db(t),r=db(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function xT(t){var e=db(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=db(t),i=R_(),o=gE(n),s=nT(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:jS.readTimeIndex,range:a},function(t,e){var n=dE(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:mE(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function kT(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){return[2,(e=db(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=nT(t),n=wb.min();return e.$t({index:jS.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=mE(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function AT(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return ep(this,function(p){switch(p.label){case 0:for(i=db(t),o=F_(),s=R_(),a=P_(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,ET(i,function(t){return Dw(Cw(Ib.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return _T(t,f,s,wb.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function RT(t,e,n){return void 0===n&&(n=F_()),tp(this,void 0,void 0,function(){var r,i;return ep(this,function(o){switch(o.label){case 0:return[4,ET(t,Dw(SE(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=db(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=tS(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Ab.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var NT=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return XS.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:tS(n.createTime)}),XS.resolve()},t.prototype.getNamedQuery=function(t,e){return XS.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:SE(t.bundledQuery),readTime:tS(t.readTime)}}(e)),XS.resolve()},t}(),OT=function(){function t(){this.Wn=new x_(DT.Gn),this.zn=new x_(DT.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new DT(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new DT(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Vb(new Ib([])),r=new DT(n,t),i=new DT(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Vb(new Ib([])),n=new DT(e,t),r=new DT(e,t+1),i=F_();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new DT(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),DT=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Vb.comparator(t.key,e.key)||mb(t.ns,e.ns)},t.Hn=function(t,e){return mb(t.ns,e.ns)||Vb.comparator(t.key,e.key)},t}(),PT=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new x_(DT.Gn)}return t.prototype.checkEmpty=function(t){return XS.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new cE(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new DT(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return XS.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return XS.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return XS.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return XS.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return XS.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new DT(e,0),i=new DT(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),XS.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new x_(mb);return e.forEach(function(t){var e=new DT(t,0),i=new DT(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),XS.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Vb.isDocumentKey(i)||(i=i.child(""));var o=new DT(new Vb(i),0),s=new x_(mb);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),XS.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;fb(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return XS.forEach(e.mutations,function(i){var o=new DT(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new DT(e,0),r=this.rs.firstAfterOrEqual(n);return XS.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return XS.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),LT=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new T_(Vb.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return XS.resolve(n?n.document.clone():rw.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=R_();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():rw.newInvalidDocument(t))}),XS.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=R_(),i=new Vb(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||jw(e,u)&&(r=r.insert(u.key,u.clone()))}return XS.resolve(r)},t.prototype.fs=function(t,e){return XS.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new FT(this)},t.prototype.getSize=function(t){return XS.resolve(this.size)},t}(),FT=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Zd(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),XS.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ZE),MT=function(){function t(t){this.persistence=t,this.ds=new XE(function(t){return sw(t)},aw),this.lastRemoteSnapshotVersion=wb.min(),this.highestTargetId=0,this.ws=0,this._s=new OT,this.targetCount=0,this.ys=UE.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),XS.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return XS.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return XS.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),XS.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),XS.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new UE(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,XS.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),XS.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,XS.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),XS.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return XS.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return XS.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),XS.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),XS.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),XS.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return XS.resolve(n)},t.prototype.containsKey=function(t,e){return XS.resolve(this._s.containsKey(e))},t}(),jT=function(){function t(t,e){var n=this;this.gs={},this.Ne=new nb(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new MT(this),this.Ut=new CE,this.Ue=function(t,e){return new LT(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new fE(e),this.Ke=new NT(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new PT(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;ab("MemoryPersistence","Starting transaction:",t);var i=new UT(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return XS.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),UT=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Zd(e,t),e}(QS),VT=function(){function t(t){this.persistence=t,this.As=new OT,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw hb()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),XS.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),XS.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),XS.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return XS.forEach(this.vs,function(r){var i=Vb.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return XS.or([function(){return XS.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),qT=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function BT(t,e){return"firestore_clients_"+t+"_"+e}function HT(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function zT(t,e){return"firestore_targets_"+t+"_"+e}qT.UNAUTHENTICATED=new qT(null),qT.GOOGLE_CREDENTIALS=new qT("google-credentials-uid"),qT.FIRST_PARTY=new qT("first-party-uid");var GT=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ib(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(ub("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$T=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ib(i.error.code,i.error.message)),o?new t(e,i.state,r):(ub("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),KT=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=j_(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ub(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ub("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),WT=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ub("SharedClientState","Failed to parse online state: "+e),null)},t}(),QT=function(){function t(){this.activeTargetIds=j_()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),YT=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new T_(mb),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=BT(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new QT),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return tp(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return ep(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(BT(this.persistenceKey,r)))&&(o=KT.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(zT(this.persistenceKey,t));if(n){var r=$T.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(zT(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ab("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ab("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ab("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ab("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ub("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return tp(e,void 0,void 0,function(){var t,e,r,i,o,s;return ep(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=nb.o;if(null!=t)try{var n=JSON.parse(t);fb("number"==typeof n),e=n}catch(t){ub("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==nb.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new GT(this.currentUser,t,e,n),i=HT(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=HT(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=zT(this.persistenceKey,t),i=new $T(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return KT.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return GT.Vs(new qT(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return $T.Vs(r,e)},t.prototype.js=function(t){return WT.Vs(t)},t.prototype.ii=function(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ab("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=j_();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),XT=function(){function t(){this.li=new QT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new QT,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),ZT=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),JT=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ab("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ab("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),tI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eI=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),nI=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Zd(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new eb;s.listenOnce(Xv.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Yv.NO_ERROR:var e=s.getResponseJson();ab("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Yv.TIMEOUT:ab("Connection",'RPC "'+t+'" timed out'),o(new ib(rb.DEADLINE_EXCEEDED,"Request time out"));break;case Yv.HTTP_ERROR:var n=s.getStatus();if(ab("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(rb).indexOf(e)>=0?e:rb.UNKNOWN}(r.status);o(new ib(a,r.message))}else o(new ib(rb.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ib(rb.UNAVAILABLE,"Connection failed."));break;default:hb()}}finally{ab("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Gv,o=Um(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Jv({})),this.Fi(s.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(up())||"object"==typeof navigator&&"ReactNative"===navigator.product||up().indexOf("Electron/")>=0||function(){var t=up();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||up().indexOf("MSAppHost/")>=0||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");ab("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new eI({Ei:function(t){l?ab("Connection","Not sending because WebChannel is closed:",t):(c||(ab("Connection","Opening WebChannel transport."),u.open(),c=!0),ab("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return f(u,tb.EventType.OPEN,function(){l||ab("Connection","WebChannel transport opened.")}),f(u,tb.EventType.CLOSE,function(){l||(l=!0,ab("Connection","WebChannel transport closed"),h.Vi())}),f(u,tb.EventType.ERROR,function(t){l||(l=!0,cb("Connection","WebChannel transport errored:",t),h.Vi(new ib(rb.UNAVAILABLE,"The operation could not be completed")))}),f(u,tb.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];fb(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ab("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=y_[t];if(void 0!==e)return E_(e)}(i),s=r.message;void 0===o&&(o=rb.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new ib(o,s)),u.close()}else ab("Connection","WebChannel received:",n),h.Si(n)}}),f(o,Zv.STAT_EVENT,function(t){10===t.stat?ab("Connection","Detected buffering proxy"):11===t.stat&&ab("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ab("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return ab("RestConnection","Received: ",t),t},function(e){throw cb("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+tI[t]},t}());function rI(){return"undefined"!=typeof window?window:null}function iI(){return"undefined"!=typeof document?document:null}function oI(t){return new Y_(t,!0)}var sI=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&ab("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),aI=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sI(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return tp(this,void 0,void 0,function(){return ep(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===rb.RESOURCE_EXHAUSTED?(ub(e.toString()),ub("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===rb.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new ib(rb.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return tp(t,void 0,void 0,function(){return ep(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ab("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ab("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),uI=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Zd(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:hb()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(fb(void 0===e||"string"==typeof e),Ab.fromBase64String(e||"")):(fb(void 0===e||e instanceof Uint8Array),Ab.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?rb.UNKNOWN:E_(t.code);return new ib(e,t.message||"")}(a);n=new H_(r,i,o,s||null)}else if("documentChange"in e){i=iS(t,(r=e.documentChange).document.name),o=tS(r.document.updateTime);var a=new ew({mapValue:{fields:r.document.fields}}),u=(s=rw.newFoundDocument(i,o,a),r.targetIds||[]);n=new q_(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=iS(t,(r=e.documentDelete).document),o=r.readTime?tS(r.readTime):wb.min(),a=rw.newNoDocument(i,o),n=new q_([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=iS(t,(r=e.documentRemove).document),n=new q_([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return hb();var c=e.filter;i=new __(r=c.count||0),n=new B_(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return wb.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?wb.min():e.readTime?tS(e.readTime):wb.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=aS(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=uw(r)?{documents:dS(t,r)}:{query:pS(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Z_(t,e.resumeToken):e.snapshotVersion.compareTo(wb.min())>0&&(n.readTime=X_(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hb()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=aS(this.R),e.removeTarget=t,this.cr(e)},e}(aI),cI=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Zd(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(fb(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(fb(void 0!==e),t.map(function(t){return function(t,e){var n=tS(t.updateTime?t.updateTime:e);return n.isEqual(wb.min())&&(n=tS(e)),new r_(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=tS(t.commitTime);return this.listener.Tr(n,e)}return fb(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=aS(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return hS(e.R,t)})};this.cr(n)},e}(aI),lI=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Zd(e,t),e.prototype.br=function(){if(this.Rr)throw new ib(rb.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rb.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ib(rb.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===rb.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new ib(rb.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),hI=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ub(e),this.Vr=!1):ab("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),fI=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return tp(o,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return _I(this)?(ab("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return(e=db(t)).Or.add(4),[4,pI(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,dI(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new hI(n,r)};function dI(t){return tp(this,void 0,void 0,function(){var e,n;return ep(this,function(r){switch(r.label){case 0:if(!_I(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pI(t){return tp(this,void 0,void 0,function(){var e,n;return ep(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function gI(t,e){var n=db(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),wI(n)?bI(n):FI(n).er()&&yI(n,e))}function mI(t,e){var n=db(t),r=FI(n);n.$r.delete(e),r.er()&&vI(n,e),0===n.$r.size&&(r.er()?r.ir():_I(n)&&n.Br.set("Unknown"))}function yI(t,e){t.qr.U(e.targetId),FI(t).mr(e)}function vI(t,e){t.qr.U(e),FI(t).yr(e)}function bI(t){t.qr=new G_({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),FI(t).start(),t.Br.Sr()}function wI(t){return _I(t)&&!FI(t).tr()&&t.$r.size>0}function _I(t){return 0===db(t).Or.size}function SI(t){t.qr=void 0}function EI(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){return t.$r.forEach(function(e,n){yI(t,e)}),[2]})})}function TI(t,e){return tp(this,void 0,void 0,function(){return ep(this,function(n){return SI(t),wI(t)?(t.Br.Nr(e),bI(t)):t.Br.set("Unknown"),[2]})})}function II(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o;return ep(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof H_&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o;return ep(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ab("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,CI(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof q_?t.qr.X(e):e instanceof B_?t.qr.rt(e):t.qr.et(e),n.isEqual(wb.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bT(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Ab.EMPTY_BYTE_STRING,n.snapshotVersion)),vI(t,e);var r=new hE(n.target,e,1,n.sequenceNumber);yI(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ab("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,CI(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function CI(t,e,n){return tp(this,void 0,void 0,function(){var r=this;return ep(this,function(i){switch(i.label){case 0:if(!nE(e))throw e;return t.Or.add(1),[4,pI(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return bT(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return tp(r,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return ab("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,dI(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function xI(t,e){return e().catch(function(n){return CI(t,n,e)})}function kI(t){return tp(this,void 0,void 0,function(){var e,n,r,i,o;return ep(this,function(s){switch(s.label){case 0:e=db(t),n=MI(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return _I(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,ST(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=MI(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,CI(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return AI(e)&&RI(e),[2]}})})}function AI(t){return _I(t)&&!MI(t).tr()&&t.kr.length>0}function RI(t){MI(t).start()}function NI(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){return MI(t).Ar(),[2]})})}function OI(t){return tp(this,void 0,void 0,function(){var e,n,r;return ep(this,function(i){for(e=MI(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function DI(t,e,n){return tp(this,void 0,void 0,function(){var r,i;return ep(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=lE.from(r,e,n),[4,xI(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,kI(t)];case 2:return o.sent(),[2]}})})}function PI(t,e){return tp(this,void 0,void 0,function(){return ep(this,function(n){switch(n.label){case 0:return e&&MI(t).pr?[4,function(t,e){return tp(this,void 0,void 0,function(){var n,r;return ep(this,function(i){switch(i.label){case 0:return S_(r=e.code)&&r!==rb.ABORTED?(n=t.kr.shift(),MI(t).sr(),[4,xI(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,kI(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return AI(t)&&RI(t),[2]}})})}function LI(t,e){return tp(this,void 0,void 0,function(){var n;return ep(this,function(r){switch(r.label){case 0:return n=db(t),e?(n.Or.delete(2),[4,dI(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,pI(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function FI(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=db(t);return r.br(),new uI(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:EI.bind(null,t),Ri:TI.bind(null,t),_r:II.bind(null,t)}),t.Mr.push(function(n){return tp(e,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),wI(t)?bI(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),SI(t),e.label=3;case 3:return[2]}})})})),t.Ur}function MI(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=db(t);return r.br(),new cI(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:NI.bind(null,t),Ri:PI.bind(null,t),Ir:OI.bind(null,t),Tr:DI.bind(null,t)}),t.Mr.push(function(n){return tp(e,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,kI(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(ab("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var jI=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new YS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ib(rb.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function UI(t,e){if(ub("AsyncQueue",e+": "+t),nE(t))return new ib(rb.UNAVAILABLE,e+": "+t);throw t}var VI=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Vb.comparator(e.key,n.key)}:function(t,e){return Vb.comparator(t.key,e.key)},this.keyedMap=O_(),this.sortedSet=new T_(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),qI=function(){function t(){this.Qr=new T_(Vb.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):hb():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),BI=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,VI.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),HI=function(){this.Wr=void 0,this.listeners=[]},zI=function(){this.queries=new XE(function(t){return Fw(t)},Lw),this.onlineState="Unknown",this.Gr=new Set};function GI(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return ep(this,function(c){switch(c.label){case 0:if(n=db(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new HI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=UI(a,"Initialization of query '"+Mw(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&QI(n),[2]}})})}function $I(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s;return ep(this,function(a){return n=db(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function KI(t,e){for(var n=db(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&QI(n)}function WI(t,e,n){var r=db(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function QI(t){t.Gr.forEach(function(t){t.next()})}var YI=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new BI(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=BI.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),XI=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ZI=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return iS(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?lS(this.R,t.document,!1):rw.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return tS(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ZI(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||F_()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return tp(this,void 0,void 0,function(){var t,e,n,r,i;return ep(this,function(o){switch(o.label){case 0:return[4,AT(this.localStore,new ZI(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,RT(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hT(Object.assign({},this.progress),t))]}})})}}();var JI=function(t){this.key=t},tC=function(t){this.key=t},eC=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=F_(),this.mutatedKeys=F_(),this.lo=Uw(t),this.fo=new VI(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new qI,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=xw(this.query)&&i.size===this.query.limit?i.last():null,c=kw(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=jw(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),xw(this.query)||kw(this.query))for(;s.size>this.query.limit;){var l=xw(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hb()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new BI(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new qI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=F_(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new tC(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new JI(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=F_();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return BI.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),nC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},rC=function(t){this.key=t,this.bo=!1},iC=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new XE(function(t){return Fw(t)},Lw),this.Vo=new Map,this.So=new Set,this.Do=new T_(Vb.comparator),this.Co=new Map,this.No=new OT,this.xo={},this.Fo=new Map,this.ko=UE.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function oC(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s;return ep(this,function(a){switch(a.label){case 0:return n=PC(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,ET(n.localStore,Dw(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,sC(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&gI(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function sC(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o,s,a,u,c;return ep(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o,s;return ep(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,IT(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(bC(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,IT(t.localStore,e,!0)];case 1:return i=l.sent(),o=new eC(e,i.Bn),s=o._o(i.documents),a=V_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),bC(t,n,u.To),c=new nC(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function aC(t,e){return tp(this,void 0,void 0,function(){var n,r,i;return ep(this,function(o){switch(o.label){case 0:return n=db(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Lw(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,TT(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),mI(n.remoteStore,r.targetId),yC(n,r.targetId)}).catch(zE)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return yC(n,r.targetId),[4,TT(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function uC(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s;return ep(this,function(a){switch(a.label){case 0:r=LC(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=db(t),i=bb.now(),o=e.reduce(function(t,e){return t.add(e.key)},F_());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=c_(c,n.get(c.key));null!=l&&s.push(new d_(c.key,l,nw(l.value.mapValue),i_.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new T_(mb)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,SC(r,i.changes)];case 3:return a.sent(),[4,kI(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=UI(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function cC(t,e){return tp(this,void 0,void 0,function(){var n,r;return ep(this,function(i){switch(i.label){case 0:n=db(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wT(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(fb(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?fb(r.bo):t.removedDocuments.size>0&&(fb(r.bo),r.bo=!1))}),[4,SC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,zE(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function lC(t,e,n){var r=db(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=db(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&QI(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hC(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s,a,u;return ep(this,function(c){switch(c.label){case 0:return(r=db(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new T_(Vb.comparator)).insert(o,rw.newNoDocument(o,wb.min())),a=F_().add(o),u=new U_(wb.min(),new Map,new x_(mb),s,a),[4,cC(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),_C(r),[3,4];case 2:return[4,TT(r.localStore,e,!1).then(function(){return yC(r,e,n)}).catch(zE)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function fC(t,e){return tp(this,void 0,void 0,function(){var n,r,i;return ep(this,function(o){switch(o.label){case 0:n=db(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,vT(n.localStore,e)];case 2:return i=o.sent(),mC(n,r,null),gC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,SC(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,zE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function dC(t,e,n){return tp(this,void 0,void 0,function(){var r,i;return ep(this,function(o){switch(o.label){case 0:r=db(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=db(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return fb(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),mC(r,e,n),gC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,SC(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,zE(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pC(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s;return ep(this,function(a){switch(a.label){case 0:_I((n=db(t)).remoteStore)||ab("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=db(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=UI(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function gC(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function mC(t,e,n){var r=db(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function yC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||vC(t,e)})}function vC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(mI(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),_C(t))}function bC(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof JI?(t.No.addReference(o.key,e),wC(t,o)):o instanceof tC?(ab("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||vC(t,o.key)):hb()}}function wC(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ab("SyncEngine","New document in limbo: "+n),t.So.add(r),_C(t))}function _C(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Vb(Ib.fromString(e)),r=t.ko.next();t.Co.set(r,new rC(n)),t.Do=t.Do.insert(n,r),gI(t.remoteStore,new hE(Dw(Cw(n.path)),r,2,nb.o))}}function SC(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s;return ep(this,function(a){switch(a.label){case 0:return r=db(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dT.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return ep(this,function(l){switch(l.label){case 0:n=db(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return XS.forEach(e,function(e){return XS.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return XS.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!nE(r=l.sent()))throw r;return ab("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function EC(t,e){return tp(this,void 0,void 0,function(){var n,r;return ep(this,function(i){switch(i.label){case 0:return(n=db(t)).currentUser.isEqual(e)?[3,3]:(ab("SyncEngine","User change. New user:",e.toKey()),[4,yT(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new ib(rb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,SC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function TC(t,e){var n=db(t),r=n.Co.get(e);if(r&&r.bo)return F_().add(r.key);var i=F_(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function IC(t,e){return tp(this,void 0,void 0,function(){var n,r,i;return ep(this,function(o){switch(o.label){case 0:return[4,IT((n=db(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&bC(n,e.targetId,i.To),i)]}})})}function CC(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){return[2,xT((e=db(t)).localStore).then(function(t){return SC(e,t)})]})})}function xC(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o;return ep(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=db(t),r=db(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):XS.resolve(null)})})}((i=db(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,kI(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mC(i,e,r||null),gC(i,e),function(t,e){db(db(t)._n).Gt(e)}(i.localStore,e)):hb(),s.label=4;case 4:return[4,SC(i,o)];case 5:return s.sent(),[3,7];case 6:ab("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function kC(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return ep(this,function(c){switch(c.label){case 0:return PC(n=db(t)),LC(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,AC(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,LI(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)gI(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return yC(n,e),TT(n.localStore,e,!0)}),mI(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,AC(n,a)];case 5:return c.sent(),function(t){var e=db(t);e.Co.forEach(function(t,n){mI(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new T_(Vb.comparator)}(n),n.$o=!1,[4,LI(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function AC(t,e,n){return tp(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return ep(this,function(g){switch(g.label){case 0:n=db(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,ET(n.localStore,Dw(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,IC(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,CT(n.localStore,a)];case 8:return p=g.sent(),[4,ET(n.localStore,p)];case 9:return u=g.sent(),[4,sC(n,RC(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function RC(t){return Iw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function NC(t){var e=db(t);return db(db(e.localStore).persistence).fn()}function OC(t,e,n,r){return tp(this,void 0,void 0,function(){var i,o,s;return ep(this,function(a){switch(a.label){case 0:return(i=db(t)).$o?(ab("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xT(i.localStore)];case 3:return o=a.sent(),s=U_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,SC(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,TT(i.localStore,e,!0)];case 6:return a.sent(),yC(i,e,r),[3,8];case 7:hb(),a.label=8;case 8:return[2]}})})}function DC(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return ep(this,function(f){switch(f.label){case 0:if(!(r=PC(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(ab("SyncEngine","Adding an already active target "+s),[3,5]):[4,CT(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,ET(r.localStore,a)];case 3:return u=f.sent(),[4,sC(r,RC(a),u.targetId,!1)];case 4:f.sent(),gI(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return ep(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,TT(r.localStore,t,!1).then(function(){mI(r.remoteStore,t),yC(r,t)}).catch(zE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function PC(t){var e=db(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.vo._r=KI.bind(null,e.eventManager),e.vo.Mo=WI.bind(null,e.eventManager),e}function LC(t){var e=db(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}var FC=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return this.R=oI(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return mT(this.persistence,new pT,t.initialUser,this.R)},t.prototype.qo=function(t){return new jT(VT.bs,this.R)},t.prototype.Bo=function(t){return new XT},t.prototype.terminate=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),MC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Zd(e,t),e.prototype.initialize=function(e){return tp(this,void 0,void 0,function(){return ep(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,kT(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,LC(this.Qo.syncEngine)];case 4:return n.sent(),[4,kI(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return mT(this.persistence,new pT,t.initialUser,this.R)},e.prototype.Uo=function(t){return new KE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=lT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?NE.withCacheSize(this.cacheSizeBytes):NE.DEFAULT;return new aT(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,rI(),iI(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new XT},e}(FC),jC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Zd(e,t),e.prototype.initialize=function(e){return tp(this,void 0,void 0,function(){var n,r=this;return ep(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof YT?(this.sharedClientState.syncEngine={ui:xC.bind(null,n),ai:OC.bind(null,n),hi:DC.bind(null,n),fn:NC.bind(null,n),ci:CC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return tp(r,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return[4,kC(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=rI();if(!YT.yt(e))throw new ib(rb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new YT(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(MC),UC=function(){function t(){}return t.prototype.initialize=function(t,e){return tp(this,void 0,void 0,function(){var n=this;return ep(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return lC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),[4,LI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new zI},t.prototype.createDatastore=function(t){var e=oI(t.databaseInfo.databaseId),n=new nI(t.databaseInfo);return function(t,e,n){return new lI(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return lC(s.syncEngine,t,0)},o=JT.yt()?new JT:new ZT,new fI(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new iC(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return e=db(t),ab("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,pI(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),VC=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),qC=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new YS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return tp(this,void 0,void 0,function(){var t,e,n,r;return ep(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new XI(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return tp(this,void 0,void 0,function(){var t,e;return ep(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return tp(this,void 0,void 0,function(){var t,e;return ep(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return tp(this,void 0,void 0,function(){var e,n=this;return ep(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ib(rb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return tp(this,void 0,void 0,function(){var n,r,i,o,s,a;return ep(this,function(u){switch(u.label){case 0:return n=db(t),r=aS(n.R)+"/documents",i={documents:e.map(function(t){return rS(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){fb(!!e.found);var n=iS(t,e.found.name),r=tS(e.found.updateTime),i=new ew({mapValue:{fields:e.found.fields}});return rw.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){fb(!!e.missing),fb(!!e.readTime);var n=iS(t,e.missing),r=tS(e.readTime);return rw.newNoDocument(n,r)}(t,e):hb()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());fb(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new b_(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return tp(this,void 0,void 0,function(){var t,e=this;return ep(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Vb.fromPath(n);e.mutations.push(new w_(r,e.precondition(r)))}),[4,function(t,e){return tp(this,void 0,void 0,function(){var n,r,i;return ep(this,function(o){switch(o.label){case 0:return n=db(t),r=aS(n.R)+"/documents",i={writes:e.map(function(t){return hS(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw hb();e=wb.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ib(rb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?i_.updateTime(e):i_.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(wb.min()))throw new ib(rb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return i_.updateTime(e)}return i_.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),BC=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sI(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return tp(t,void 0,void 0,function(){var t,e,n=this;return ep(this,function(r){return t=new qC(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Mb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!S_(e)}return!1},t}(),HC=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=qT.UNAUTHENTICATED,this.clientId=gb.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return tp(r,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return ab("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return tp(this,void 0,void 0,function(){return ep(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ib(rb.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new YS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return tp(t,void 0,void 0,function(){var t,n;return ep(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=UI(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function zC(t,e){return tp(this,void 0,void 0,function(){var n,r,i=this;return ep(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ab("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return tp(i,void 0,void 0,function(){return ep(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,yT(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function GC(t,e){return tp(this,void 0,void 0,function(){var n,r;return ep(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,$C(t)];case 1:return n=i.sent(),ab("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return tp(this,void 0,void 0,function(){var n,r;return ep(this,function(i){switch(i.label){case 0:return(n=db(t)).asyncQueue.verifyOperationInProgress(),ab("RemoteStore","RemoteStore received new credentials"),r=_I(n),n.Or.add(3),[4,pI(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,dI(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function $C(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ab("FirestoreClient","Using default OfflineComponentProvider"),[4,zC(t,new FC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function KC(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ab("FirestoreClient","Using default OnlineComponentProvider"),[4,GC(t,new UC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function WC(t){return $C(t).then(function(t){return t.persistence})}function QC(t){return $C(t).then(function(t){return t.localStore})}function YC(t){return KC(t).then(function(t){return t.remoteStore})}function XC(t){return KC(t).then(function(t){return t.syncEngine})}function ZC(t){return tp(this,void 0,void 0,function(){var e,n;return ep(this,function(r){switch(r.label){case 0:return[4,KC(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=oC.bind(null,e.syncEngine),n.onUnlisten=aC.bind(null,e.syncEngine),n)]}})})}function JC(t,e,n){var r=this;void 0===n&&(n={});var i=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(r,void 0,void 0,function(){var r;return ep(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new VC({next:function(o){e.enqueueAndForget(function(){return $I(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ib(rb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ib(rb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new YI(Cw(n.path),o,{includeMetadataChanges:!0,so:!0});return GI(t,s)},[4,ZC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function tx(t,e,n){var r=this;void 0===n&&(n={});var i=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(r,void 0,void 0,function(){var r;return ep(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new VC({next:function(n){e.enqueueAndForget(function(){return $I(t,s)}),n.fromCache&&"server"===r.source?i.reject(new ib(rb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new YI(n,o,{includeMetadataChanges:!0,so:!0});return GI(t,s)},[4,ZC(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var ex=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},nx=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),rx=new Map,ix=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ox=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(qT.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),sx=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ax=function(){function t(t){var e=this;this.currentUser=qT.UNAUTHENTICATED,this.oc=new YS,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ab("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(ab("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ab("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(fb("string"==typeof n.accessToken),new ix(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return tp(n,void 0,void 0,function(){return ep(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return fb(null===t||"string"==typeof t),new qT(t)},t}(),ux=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=qT.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),cx=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new ux(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(qT.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function lx(t,e,n){if(!n)throw new ib(rb.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hx(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ib(rb.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fx(t,e,n,r){if(!0===e&&!0===r)throw new ib(rb.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function dx(t){if(!Vb.isDocumentKey(t))throw new ib(rb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function px(t){if(Vb.isDocumentKey(t))throw new ib(rb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gx(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":hb()}function mx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ib(rb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gx(t);throw new ib(rb.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function yx(t,e){if(e<=0)throw new ib(rb.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var vx=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ib(rb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ib(rb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,fx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),bx=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vx({}),this._settingsFrozen=!1,t instanceof nx?(this._databaseId=t,this._credentials=new ox):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ib(rb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nx(t.options.projectId)}(t),this._credentials=new ax(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ib(rb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ib(rb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vx(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ox;switch(t.type){case"gapi":var e=t.client;return fb(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cx(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ib(rb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=rx.get(this))&&(ab("ComponentProvider","Removing Datastore"),rx.delete(this),t.terminate()),Promise.resolve();var t},t}(),wx=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sx(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),_x=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Sx=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Cw(r))||this)._path=r,i.type="collection",i}return Zd(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wx(this.firestore,null,new Vb(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(_x);function Ex(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=vp(t),lx("collection","path",e),t instanceof bx)return px(n=Ib.fromString.apply(Ib,ip([e],r))),new Sx(t,null,n);if(!(t instanceof wx||t instanceof Sx))throw new ib(rb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return px(n=Ib.fromString.apply(Ib,ip([t.path],r)).child(Ib.fromString(e))),new Sx(t.firestore,null,n)}function Tx(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=vp(t),1===arguments.length&&(e=gb.u()),lx("doc","path",e),t instanceof bx)return dx(n=Ib.fromString.apply(Ib,ip([e],r))),new wx(t,null,new Vb(n));if(!(t instanceof wx||t instanceof Sx))throw new ib(rb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return dx(n=t._path.child(Ib.fromString.apply(Ib,ip([e],r)))),new wx(t.firestore,t instanceof Sx?t.converter:null,new Vb(n))}function Ix(t,e){return t=vp(t),e=vp(e),(t instanceof wx||t instanceof Sx)&&(e instanceof wx||e instanceof Sx)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Cx(t,e){return t=vp(t),e=vp(e),t instanceof _x&&e instanceof _x&&t.firestore===e.firestore&&Lw(t._query,e._query)&&t.converter===e.converter}var xx=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sI(this,"async_queue_retry"),this.Ic=function(){var e=iI();e&&ab("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=iI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=iI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new YS;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return tp(this,void 0,void 0,function(){var t,e=this;return ep(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!nE(t=n.sent()))throw t;return ab("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,ub("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=jI.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&hb()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return tp(this,void 0,void 0,function(){var t;return ep(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function kx(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new YS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ax=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new xx,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Zd(e,t),e.prototype._terminate=function(){return this._firestoreClient||Nx(this),this._firestoreClient.terminate()},e}(bx);function Rx(t){return t._firestoreClient||Nx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Nx(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ex(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new HC(t._credentials,t._queue,r)}function Ox(t,e,n){var r=this,i=new YS;return t.asyncQueue.enqueue(function(){return tp(r,void 0,void 0,function(){var r;return ep(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,zC(t,n)];case 1:return o.sent(),[4,GC(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===rb.FAILED_PRECONDITION||t.code===rb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Dx(t){if(t._initialized||t._terminated)throw new ib(rb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Px=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ib(rb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xb(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lx=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Ab.fromBase64String(e))}catch(e){throw new ib(rb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ab.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Fx=function(t){this._methodName=t},Mx=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ib(rb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ib(rb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return mb(this._lat,t._lat)||mb(this._long,t._long)},t}(),jx=/^__.*__$/,Ux=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new d_(t,this.data,this.fieldMask,e,this.fieldTransforms):new f_(t,this.data,e,this.fieldTransforms)},t}(),Vx=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new d_(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function qx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hb()}}var Bx=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return uk(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(qx(this.Nc)&&jx.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Hx=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||oI(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Bx({Nc:t,methodName:e,qc:n,path:xb.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function zx(t){var e=t._freezeSettings(),n=oI(t._databaseId);return new Hx(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gx(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);ik("Data must be an object, but it was:",s,r);var a,u,c=nk(r,s);if(o.merge)a=new kb(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=ok(e,f[h],n);if(!s.contains(d))throw new ib(rb.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ck(l,d)||l.push(d)}a=new kb(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ux(new ew(c),a,u)}var $x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Fx);function Kx(t,e,n){return new Bx({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Wx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype._toFieldTransform=function(t){return new n_(t.path,new Ww)},e.prototype.isEqual=function(t){return t instanceof e},e}(Fx),Qx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Zd(e,t),e.prototype._toFieldTransform=function(t){var e=Kx(this,t,!0),n=this.Kc.map(function(t){return ek(t,e)}),r=new Qw(n);return new n_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fx),Yx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Zd(e,t),e.prototype._toFieldTransform=function(t){var e=Kx(this,t,!0),n=this.Kc.map(function(t){return ek(t,e)}),r=new Xw(n);return new n_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fx),Xx=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Zd(e,t),e.prototype._toFieldTransform=function(t){var e=new Jw(t.R,Hw(t.R,this.Qc));return new n_(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Fx);function Zx(t,e,n,r){var i=t.Uc(1,e,n);ik("Data must be an object, but it was:",i,r);var o=[],s=ew.empty();Sb(r,function(t,r){var a=ak(e,t,n);r=vp(r);var u=i.Oc(a);if(r instanceof $x)o.push(a);else{var c=ek(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new kb(o);return new Vx(s,a,i.fieldTransforms)}function Jx(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[ok(e,r,n)],u=[i];if(o.length%2!=0)throw new ib(rb.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(ok(e,o[c])),u.push(o[c+1]);for(var l=[],h=ew.empty(),f=a.length-1;f>=0;--f)if(!ck(l,a[f])){var d=a[f],p=u[f];p=vp(p);var g=s.Oc(d);if(p instanceof $x)l.push(d);else{var m=ek(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new kb(l);return new Vx(h,y,s.fieldTransforms)}function tk(t,e,n,r){return void 0===r&&(r=!1),ek(n,t.Uc(r?4:3,e))}function ek(t,e){if(rk(t=vp(t)))return ik("Unsupported field value:",e,t),nk(t,e);if(t instanceof Fx)return function(t,e){if(!qx(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ek(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=vp(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Hw(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bb.fromDate(t);return{timestampValue:X_(e.R,n)}}if(t instanceof bb)return n=new bb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:X_(e.R,n)};if(t instanceof Mx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lx)return{bytesValue:Z_(e.R,t._byteString)};if(t instanceof wx){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:eS(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+gx(t))}(t,e)}function nk(t,e){var n={};return Eb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sb(t,function(t,r){var i=ek(r,e.Fc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function rk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bb||t instanceof Mx||t instanceof Lx||t instanceof wx||t instanceof Fx)}function ik(t,e,n){if(!rk(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gx(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function ok(t,e,n){if((e=vp(e))instanceof Px)return e._internalPath;if("string"==typeof e)return ak(t,e);throw uk("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var sk=new RegExp("[~\\*/\\[\\]]");function ak(t,e,n){if(e.search(sk)>=0)throw uk("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Px.bind.apply(Px,ip([void 0],e.split(".")))))._internalPath}catch(uA){throw uk("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function uk(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ib(rb.INVALID_ARGUMENT,(a+=". ")+t+u)}function ck(t,e){return t.some(function(t){return t.isEqual(e)})}var lk=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wx(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(fk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),hk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(lk);function fk(t,e){return"string"==typeof e?ak(t,e):e instanceof Px?e._internalPath:e._delegate._internalPath}var dk=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pk=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Zd(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new gk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(fk("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(lk),gk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pk),mk=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dk(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new gk(n._firestore,n._userDataWriter,r.key,r,new dk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ib(rb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new gk(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dk(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gk(t._firestore,t._userDataWriter,e.doc.key,e.doc,new dk(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yk(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hb()}}function vk(t,e){return t instanceof pk&&e instanceof pk?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mk&&e instanceof mk&&t._firestore===e._firestore&&Cx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function bk(t){if(kw(t)&&0===t.explicitOrderBy.length)throw new ib(rb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wk=function(){};function _k(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Sk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Zd(e,t),e.prototype._apply=function(t){var e=zx(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ib(rb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ak(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(kk(r,t,l[c]));a={arrayValue:{values:u}}}else a=kk(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ak(s,o),a=tk(n,"where",s,"in"===o||"not-in"===o);var h=cw.create(i,o,a);return function(t,e){if(e.g()){var n=Rw(t);if(null!==n&&!n.isEqual(e.field))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Aw(t);null!==r&&Rk(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ib(rb.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new _x(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Tw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(wk),Ek=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Zd(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ib(rb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ib(rb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ww(e,n);return function(t,e){if(null===Aw(t)){var n=Rw(t);null!==n&&Rk(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new _x(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Tw(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(wk),Tk=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Zd(e,t),e.prototype._apply=function(t){return new _x(t.firestore,t.converter,Pw(t._query,this.Hc,this.Jc))},e}(wk),Ik=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Zd(e,t),e.prototype._apply=function(t){var e=xk(t,this.type,this.Yc,this.Xc);return new _x(t.firestore,t.converter,function(t,e){return new Tw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(wk),Ck=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Zd(e,t),e.prototype._apply=function(t){var e=xk(t,this.type,this.Yc,this.Xc);return new _x(t.firestore,t.converter,function(t,e){return new Tw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(wk);function xk(t,e,n,r){if(n[0]=vp(n[0]),n[0]instanceof lk)return function(t,e,n,r,i){if(!r)throw new ib(rb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ow(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Wb(e,r.key));else{var c=r.data.field(u.field);if(Pb(c))throw new ib(rb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ib(rb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new vw(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=zx(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new ib(rb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new ib(rb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Nw(t)&&-1!==c.indexOf("/"))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ib.fromString(c));if(!Vb.isDocumentKey(l))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Vb(l);a.push(Wb(e,h))}else{var f=tk(n,r,c);a.push(f)}}return new vw(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function kk(t,e,n){if("string"==typeof(n=vp(n))){if(""===n)throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&-1!==n.indexOf("/"))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ib.fromString(n));if(!Vb.isDocumentKey(r))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Wb(t,new Vb(r))}if(n instanceof wx)return Wb(t,n._key);throw new ib(rb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gx(n)+".")}function Ak(t,e){if(!Array.isArray(t)||0===t.length)throw new ib(rb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ib(rb.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Rk(t,e,n){if(!n.isEqual(e))throw new ib(rb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Nk=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),qb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ob(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Db(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw hb()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Sb(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Mx(Ob(t.latitude),Ob(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Lb(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Fb(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Nb(t);return new bb(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Ib.fromString(t);fb(CS(n));var r=new nx(n.get(1),n.get(3)),i=new Vb(n.popFirst(5));return r.isEqual(e)||ub("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Ok(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Dk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Zd(e,t),e.prototype.convertBytes=function(t){return new Lx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wx(this.firestore,null,e)},e}(Nk),Pk=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=zx(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Lk(t,this._firestore),i=Ok(r.converter,e,n),o=Gx(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,i_.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Lk(t,this._firestore);return o="string"==typeof(e=vp(e))||e instanceof Px?Jx(this._dataReader,"WriteBatch.update",s._key,e,n,r):Zx(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,i_.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Lk(t,this._firestore);return this._mutations=this._mutations.concat(new b_(e._key,i_.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ib(rb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Lk(t,e){if((t=vp(t)).firestore!==e)throw new ib(rb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Fk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Zd(e,t),e.prototype.convertBytes=function(t){return new Lx(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wx(this.firestore,null,e)},e}(Nk);function Mk(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mx(t,wx);var o=mx(t.firestore,Ax),s=zx(o);return Uk(o,[("string"==typeof(e=vp(e))||e instanceof Px?Jx(s,"updateDoc",t._key,e,n,r):Zx(s,"updateDoc",t._key,e)).toMutation(t._key,i_.exists(!0))])}function jk(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=vp(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||kx(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(kx(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof wx)c=mx(t.firestore,Ax),l=Cw(t._key.path),u={next:function(e){i[a]&&i[a](Vk(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=mx(t,_x);c=mx(d.firestore,Ax),l=d._query;var p=new Fk(c);u={next:function(t){i[a]&&i[a](new mk(c,p,d,t))},error:i[a+1],complete:i[a+2]},bk(t._query)}return function(t,e,n,r){var i=this,o=new VC(r),s=new YI(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return tp(i,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return e=GI,[4,ZC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return tp(i,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return e=$I,[4,ZC(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Rx(c),l,h,u)}function Uk(t,e){return function(t,e){var n=this,r=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var n;return ep(this,function(i){switch(i.label){case 0:return n=uC,[4,XC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Rx(t),e)}function Vk(t,e,n){var r=n.docs.get(e._key),i=new Fk(t);return new pk(t,i,e._key,r,new dk(n.hasPendingWrites,n.fromCache),e.converter)}var qk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Zd(e,t),e.prototype.get=function(e){var n=this,r=Lk(e,this._firestore),i=new Fk(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new pk(n._firestore,i,r._key,t._document,new dk(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=zx(t)}return t.prototype.get=function(t){var e=this,n=Lk(t,this._firestore),r=new Dk(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return hb();var i=t[0];if(i.isFoundDocument())return new lk(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lk(e._firestore,r,n._key,null,n.converter);throw hb()})},t.prototype.set=function(t,e,n){var r=Lk(t,this._firestore),i=Ok(r.converter,e,n),o=Gx(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Lk(t,this._firestore);return o="string"==typeof(e=vp(e))||e instanceof Px?Jx(this._dataReader,"Transaction.update",s._key,e,n,r):Zx(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Lk(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Bk(){if("undefined"==typeof Uint8Array)throw new ib(rb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Hk(){if("undefined"==typeof atob)throw new ib(rb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var zk=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Hk(),new t(Lx.fromBase64String(e))},t.fromUint8Array=function(e){return Bk(),new t(Lx.fromUint8Array(e))},t.prototype.toBase64=function(){return Hk(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Bk(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Gk=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Dx(t=mx(t,Ax));var n=Rx(t),r=t._freezeSettings(),i=new UC;return Ox(n,i,new MC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Dx(t=mx(t,Ax));var e=Rx(t),n=t._freezeSettings(),r=new UC;return Ox(e,r,new jC(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new ib(rb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new YS;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return tp(e,void 0,void 0,function(){var e;return ep(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return tp(this,void 0,void 0,function(){return ep(this,function(e){switch(e.label){case 0:return JS.yt()?[4,JS.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(lT(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),$k=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof nx||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||cb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=mx(t,bx))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&cb("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n="demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Jd({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[op.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),op.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ib(rb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new sx(new ix(o,new qT(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return tp(e,void 0,void 0,function(){var e,n;return ep(this,function(r){switch(r.label){case 0:return[4,WC(t)];case 1:return e=r.sent(),[4,YC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=db(t);return e.Or.delete(0),dI(e)}(n))]}})})})}(Rx(mx(this._delegate,Ax)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return tp(e,void 0,void 0,function(){var e,n;return ep(this,function(r){switch(r.label){case 0:return[4,WC(t)];case 1:return e=r.sent(),[4,YC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return tp(this,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return(e=db(t)).Or.add(0),[4,pI(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Rx(mx(this._delegate,Ax)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fx("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(e,void 0,void 0,function(){var e;return ep(this,function(r){switch(r.label){case 0:return e=pC,[4,XC(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Rx(mx(this._delegate,Ax)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new VC(e);return t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return e=function(t,e){db(t).Gr.add(e),e.next()},[4,ZC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var e;return ep(this,function(n){switch(n.label){case 0:return e=function(t,e){db(t).Gr.delete(e)},[4,ZC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Rx(t=mx(t,Ax)),kx(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ib(rb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sA(this,Ex(this._delegate,t))}catch(t){throw Zk(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Xk(this,Tx(this._delegate,t))}catch(t){throw Zk(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new rA(this,function(t,e){if(t=mx(t,bx),lx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ib(rb.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new _x(t,null,function(t){return new Tw(Ib.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Zk(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var n;return ep(this,function(i){switch(i.label){case 0:return[4,function(t){return KC(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new BC(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Rx(t),function(n){return e(new qk(t,n))})}(this._delegate,function(n){return t(new Wk(e,n))})},t.prototype.batch=function(){var t=this;return Rx(this._delegate),new Qk(new Pk(this._delegate,function(e){return Uk(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new ib(rb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new ib(rb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Kk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Zd(e,t),e.prototype.convertBytes=function(t){return new zk(new Lx(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Xk.eu(e,this.firestore,null)},e}(Nk),Wk=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Kk(t)}return t.prototype.get=function(t){var e=this,n=aA(t);return this._delegate.get(n).then(function(t){return new eA(e._firestore,new pk(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=aA(t);return n?(hx("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aA(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ip([s,e,n],i)),this},t.prototype.delete=function(t){var e=aA(t);return this._delegate.delete(e),this},t}(),Qk=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=aA(t);return n?(hx("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=aA(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,ip([s,e,n],i)),this},t.prototype.delete=function(t){var e=aA(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Yk=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new gk(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nA(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Kk(e),n),i.set(n,o)),o},t}();Yk.su=new WeakMap;var Xk=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kk(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new ib(rb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wx(n._delegate,r,new Vb(e)))},t.eu=function(e,n,r){return new t(n,new wx(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new sA(this.firestore,Ex(this._delegate,t))}catch(t){throw Zk(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=vp(t))instanceof wx&&Ix(this._delegate,t)},t.prototype.set=function(t,e){e=hx("DocumentReference.set",e);try{return function(t,e,n){t=mx(t,wx);var r=mx(t.firestore,Ax),i=Ok(t.converter,e,n);return Uk(r,[Gx(zx(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,i_.none())])}(this._delegate,t,e)}catch(t){throw Zk(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Mk(this._delegate,t):Mk.apply(void 0,ip([this._delegate,t,e],n))}catch(t){throw Zk(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Uk(mx((t=this._delegate).firestore,Ax),[new b_(t._key,i_.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jk(e),i=tA(e,function(e){return new eA(t.firestore,new pk(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return jk(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mx(t,wx);var e=mx(t.firestore,Ax),n=Rx(e),r=new Fk(e);return function(t,e){var n=this,r=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var n;return ep(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return tp(this,void 0,void 0,function(){var r,i;return ep(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=db(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ib(rb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=UI(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,QC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new pk(e,r,t._key,n,new dk(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mx(t,wx);var e=mx(t.firestore,Ax);return JC(Rx(e),t._key,{source:"server"}).then(function(n){return Vk(e,t,n)})}(this._delegate):function(t){t=mx(t,wx);var e=mx(t.firestore,Ax);return JC(Rx(e),t._key).then(function(n){return Vk(e,t,n)})}(this._delegate)).then(function(t){return new eA(e.firestore,new pk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Yk.nu(this.firestore,e):null))},t}();function Zk(t,e,n){return t.message=t.message.replace(e,n),t}function Jk(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!kx(r))return r}return{}}function tA(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=kx(t[0])?t[0]:kx(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Xk(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return vk(this._delegate,t._delegate)},t}(),nA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zd(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(eA),rA=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Kk(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,_k(this._delegate,function(t,e,n){var r=e,i=fk("where",t);return new Sk(i,r,n)}(e,n,r)))}catch(e){throw Zk(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,_k(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=fk("orderBy",t);return new Ek(r,n)}(e,n)))}catch(e){throw Zk(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,_k(this._delegate,function(t){return yx("limit",t),new Tk("limit",t,"F")}(e)))}catch(e){throw Zk(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,_k(this._delegate,function(t){return yx("limitToLast",t),new Tk("limitToLast",t,"L")}(e)))}catch(e){throw Zk(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_k(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ik("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Zk(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_k(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ik("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Zk(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_k(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ck("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Zk(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,_k(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ck("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Zk(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Cx(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mx(t,_x);var e=mx(t.firestore,Ax),n=Rx(e),r=new Fk(e);return function(t,e){var n=this,r=new YS;return t.asyncQueue.enqueueAndForget(function(){return tp(n,void 0,void 0,function(){var n;return ep(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return tp(this,void 0,void 0,function(){var r,i,o,s,a;return ep(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,IT(t,e,!0)];case 1:return a=u.sent(),r=new eC(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=UI(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,QC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new mk(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=mx(t,_x);var e=mx(t.firestore,Ax),n=Rx(e),r=new Fk(e);return tx(n,t._query,{source:"server"}).then(function(n){return new mk(e,r,t,n)})}(this._delegate):function(t){t=mx(t,_x);var e=mx(t.firestore,Ax),n=Rx(e),r=new Fk(e);return bk(t._query),tx(n,t._query).then(function(n){return new mk(e,r,t,n)})}(this._delegate)).then(function(t){return new oA(e.firestore,new mk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Jk(e),i=tA(e,function(e){return new oA(t.firestore,new mk(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return jk(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Yk.nu(this.firestore,e):null))},t}(),iA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new nA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),oA=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new rA(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new nA(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new iA(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new nA(n._firestore,r))})},t.prototype.isEqual=function(t){return vk(this._delegate,t._delegate)},t}(),sA=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Zd(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Xk(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Xk(this.firestore,void 0===t?Tx(this._delegate):Tx(this._delegate,t))}catch(t){throw Zk(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mx(t.firestore,Ax),r=Tx(t),i=Ok(t.converter,e);return Uk(n,[Gx(zx(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,i_.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Xk(e.firestore,t)})},e.prototype.isEqual=function(t){return Ix(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Yk.nu(this.firestore,t):null))},e}(rA);function aA(t){return mx(t,wx)}var uA,cA=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Px.bind.apply(Px,ip([void 0],t)))}return t.documentId=function(){return new t(xb.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=vp(t))instanceof Px&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),lA=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Wx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new $x("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Qx("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yx("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Xx("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),hA={Firestore:$k,GeoPoint:Mx,Timestamp:bb,Blob:zk,Transaction:Wk,WriteBatch:Qk,DocumentReference:Xk,DocumentSnapshot:eA,Query:rA,QueryDocumentSnapshot:nA,QuerySnapshot:oA,CollectionReference:sA,FieldPath:cA,FieldValue:lA,setLogLevel:function(t){ob.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new wp("firestore",function(t){return function(t,e){return new $k(t,new Ax(t,e),new Gk)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},hA)))})(uA=Kp),uA.registerVersion("@firebase/firestore","2.3.9"),Kp.initializeApp({apiKey:"AIzaSyC08M3UK0WU_vfm6RYgvlctCOwDaqolAjw",authDomain:"angular-html-7f46c.firebaseapp.com",databaseURL:"https://angular-html-7f46c-default-rtdb.firebaseio.com",projectId:"angular-html-7f46c",storageBucket:"angular-html-7f46c.appspot.com",messagingSenderId:"47230140546",appId:"1:47230140546:web:270d7c72d753dd8c9a749b",measurementId:"G-GFZK6QND8M"});const fA=Kp.firestore(),dA=t=>{var e=[];return t.forEach(t=>{e.push(Object.assign({id:t.id},t.data()))}),console.log(e),e};let pA=(()=>{class t{constructor(){this.usuario={nombre:"Claudio",activo:!1,fechaNaci:0,salario:2850},this.usuarios=[],this.usuariosRef=fA.collection("usuarios"),this.pagination()}guardarDatos(){this.usuariosRef.add(this.usuario).then(t=>{console.log(t)}).catch(t=>console.log("error",t))}actualizarDatos(){this.usuariosRef.doc("7T1RgKGwangZ6PRVJQF3").update({activo:!1,fechaNaci:0})}eliminarDatos(){this.usuariosRef.doc("wUGXjdTadq1Svo1ulScw").delete().then(()=>console.log("Borrado")).catch(t=>console.log("error",t))}getAllData(){this.usuariosRef.onSnapshot(t=>{this.usuarios=dA(t)})}querys(){this.usuariosRef.where("salario",">=",1500).where("activo","==",!0).onSnapshot(t=>{this.usuarios=dA(t)})}querys2(){this.usuariosRef.orderBy("nombre").orderBy("salario","asc").onSnapshot(t=>{this.usuarios=dA(t)})}pagination(){const t=document.createElement("button");t.innerHTML="Prev",document.body.append(t);const e=document.createElement("button");e.innerHTML="Next",document.body.append(e);let n=null,r=null;e.addEventListener("click",()=>{this.usuariosRef.orderBy("nombre").startAfter(r).limit(2).get().then(t=>{n=t.docs[0]||null,r=t.docs[t.docs.length-1]||null,this.usuarios=dA(t)})}),t.addEventListener("click",()=>{this.usuariosRef.orderBy("nombre").endBefore(n).limitToLast(2).get().then(t=>{n=t.docs[0]||null,r=t.docs[t.docs.length-1]||null,this.usuarios=dA(t)})}),e.click()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gA(t,e){if(1&t&&(lo(0,"div"),lo(1,"p"),_o(2),ho(),ho()),2&t){const t=e.$implicit;Qr(2),So(t.nombre+" -- "+t.id)}}const mA=[{path:"home",component:qd},{path:"about",component:zd},{path:"item/:id",component:Kd},{path:"search/:termino",component:Yd},{path:"add",component:(()=>{class t{constructor(t){this.pruebasService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ao(pA))},t.\u0275cmp=jt({type:t,selectors:[["app-add"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(so(0,gA,3,1,"div",0),lo(1,"p"),_o(2,"add works!"),ho()),2&t&&uo("ngForOf",e.pruebasService.usuarios)},directives:[Tu],styles:[""]}),t})()},{path:"**",pathMatch:"full",redirectTo:"home"}];let yA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ut({imports:[[xd.forRoot(mA,{useHash:!0,scrollPositionRestoration:"enabled"})],xd]}),t})(),vA=(()=>{class t{constructor(t,e){this._servicio=t,this.router=e}ngOnInit(){}buscarProducto(t){t.length<1||this.router.navigate(["/search/",t])}}return t.\u0275fac=function(e){return new(e||t)(ao(Bd),ao(fd))},t.\u0275cmp=jt({type:t,selectors:[["app-header"]],decls:30,vars:1,consts:[[1,"ae-container-fluid","ae-container-fluid--full","rk-header"],["type","checkbox","id","mobile-menu",1,"rk-mobile-menu"],["for","mobile-menu"],[0,"xlink","href","assets/img/symbols.svg#bar"],[1,"ae-container-fluid","rk-topbar"],[1,"rk-logo"],["routerLink",""],[1,"rk-navigation"],[1,"rk-menu"],["routerLinkActive","active",1,"rk-menu__item"],["routerLink","home",1,"rk-menu__link"],["routerLink","add",1,"rk-menu__link"],["routerLink","about",1,"rk-menu__link"],[1,"rk-search"],["type","text","placeholder","Buscar...","id","urku-search",1,"rk-search-field",3,"keyup.enter"],["txtBuscar",""],["for","urku-search"],[0,"xlink","href","assets/img/symbols.svg#icon-search"]],template:function(t,e){if(1&t){const t=Ee();lo(0,"header",0),fo(1,"input",1),lo(2,"label",2),Ke(),lo(3,"svg"),fo(4,"use",3),ho(),lo(5,"svg"),fo(6,"use",3),ho(),lo(7,"svg"),fo(8,"use",3),ho(),ho(),We(),lo(9,"div",4),lo(10,"h1",5),lo(11,"a",6),_o(12),ho(),ho(),lo(13,"nav",7),lo(14,"ul",8),lo(15,"li",9),lo(16,"a",10),_o(17,"Home"),ho(),ho(),lo(18,"li",9),lo(19,"a",11),_o(20,"Agregar"),ho(),ho(),lo(21,"li",9),lo(22,"a",12),_o(23,"About"),ho(),ho(),ho(),lo(24,"div",13),lo(25,"input",14,15),mo("keyup.enter",function(){_e.lFrame.contextLView=t;const n=_e.lFrame.contextLView[46];return e.buscarProducto(n.value)}),ho(),lo(27,"label",16),Ke(),lo(28,"svg"),fo(29,"use",17),ho(),ho(),ho(),ho(),ho(),ho()}2&t&&(Qr(12),So(e._servicio.info.titulo))},directives:[pd,md],styles:[""]}),t})(),bA=(()=>{class t{constructor(t){this._servicio=t,this.anio=(new Date).getFullYear(),this.email_contacto="pablorito14@gmail.com"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(ao(Bd))},t.\u0275cmp=jt({type:t,selectors:[["app-footer"]],decls:43,vars:6,consts:[[1,"ae-container-fluid","rk-footer"],[1,"ae-grid","ae-grid--collapse"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-left"],[1,"rk-menu","rk-footer-menu"],[1,"rk-menu__item"],["routerLink","about",1,"rk-menu__link"],["href","documentation.html",1,"rk-menu__link"],["href","contact.html",1,"rk-menu__link"],[1,"rk-footer__text","rk-footer__copy"],[1,"ae-u-bold"],[1,"ae-u-bolder"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center"],[1,"rk-social-btn",3,"href"],[0,"xlink","href","assets/img/symbols.svg#icon-facebook"],[0,"xlink","href","assets/img/symbols.svg#icon-twitter"],["href","#0",1,"rk-social-btn"],[0,"xlink","href","assets/img/symbols.svg#icon-pinterest"],[0,"xlink","href","assets/img/symbols.svg#icon-tumblr"],[1,"ae-grid__item","item-lg-4","au-xs-ta-center","au-lg-ta-right"],[1,"rk-footer__text","rk-footer__contact"],[1,"rk-dark-color",3,"href"],[1,"rk-footer__text","rk-footer__by"],["href","http://pixeden.com",1,"ae-u-bolder"]],template:function(t,e){1&t&&(lo(0,"footer",0),lo(1,"div",1),lo(2,"div",2),lo(3,"ul",3),lo(4,"li",4),lo(5,"a",5),_o(6,"About"),ho(),ho(),lo(7,"li",4),lo(8,"a",6),_o(9,"Docs"),ho(),ho(),lo(10,"li",4),lo(11,"a",7),_o(12,"Contact"),ho(),ho(),ho(),lo(13,"p",8),lo(14,"span",9),_o(15,"\xa9 "),ho(),lo(16,"span",10),_o(17),ho(),_o(18,"All Right Reserved."),ho(),ho(),lo(19,"div",11),lo(20,"a",12),Ke(),lo(21,"svg"),fo(22,"use",13),ho(),ho(),We(),lo(23,"a",12),Ke(),lo(24,"svg"),fo(25,"use",14),ho(),ho(),We(),lo(26,"a",15),Ke(),lo(27,"svg"),fo(28,"use",16),ho(),ho(),We(),lo(29,"a",12),Ke(),lo(30,"svg"),fo(31,"use",17),ho(),ho(),ho(),We(),lo(32,"div",18),lo(33,"p",19),lo(34,"span",9),_o(35,"Email: "),ho(),lo(36,"span",10),lo(37,"a",20),_o(38),ho(),ho(),ho(),lo(39,"p",21),_o(40,"Theme by "),lo(41,"a",22),_o(42,"Pixeden."),ho(),ho(),ho(),ho(),ho()),2&t&&(Qr(17),Eo("",e.anio," PORFOLIO ANGULAR "),Qr(3),uo("href",e._servicio.info.facebook,ir),Qr(3),uo("href",e._servicio.info.twitter,ir),Qr(6),uo("href",e._servicio.info.tumblr,ir),Qr(8),wo("href","mailTo:",e._servicio.info.email,"",ir),Qr(1),Eo("",e._servicio.info.email," "))},directives:[pd],styles:[""]}),t})(),wA=(()=>{class t{constructor(t,e){this._infoPagina=t}}return t.\u0275fac=function(e){return new(e||t)(ao(Bd),ao(Fd))},t.\u0275cmp=jt({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"ae-container-fluid","rk-main"]],template:function(t,e){1&t&&(fo(0,"app-header"),lo(1,"section",0),fo(2,"router-outlet"),ho(),fo(3,"app-footer"))},directives:[vA,yd,bA],styles:[""]}),t})(),_A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t,bootstrap:[wA]}),t.\u0275inj=ut({providers:[],imports:[[lc,yA,Kc]]}),t})();(function(){if(Fa)throw new Error("Cannot enable prod mode after platform setup.");La=!1})(),uc().bootstrapModule(_A).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=873)}]);